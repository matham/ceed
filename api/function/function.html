<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Function &mdash; Ceed  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Parameter randomization" href="param_noise.html" />
    <link rel="prev" title="Function API" href="api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Ceed
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../blueprint.html">System Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">CEED Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../example_code/example_code.html">Example Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apps/apps.html">Ceed Apps</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">The Ceed API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ceed.html">Ceed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis/api.html">Analysis API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="api.html">Function API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#function-factory-and-plugins">Function factory and plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-function-instances">Default function instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function-basics">Function basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saving-and-restoring-functions">Saving and restoring functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reference-functions">Reference functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#copying-functions">Copying functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-function-in-script">Create function in script</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-plugin-function-example">Custom plugin function example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="param_noise.html">Parameter randomization</a></li>
<li class="toctree-l3"><a class="reference internal" href="function_plugin.html">Function plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="widgets.html">Function Widgets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shape/api.html">Shape API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage/api.html">Stage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../view/api.html">Experiment API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/api.html">Storage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../player.html">Video Player</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../graphics/api.html">Graphics API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optics/optics.html">Microscope optics V2</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Ceed</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api.html">The Ceed API</a> &raquo;</li>
          <li><a href="api.html">Function API</a> &raquo;</li>
      <li>Function</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/function/function.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="module-ceed.function"></span><section id="function">
<span id="function-api"></span><h1>Function<a class="headerlink" href="#function" title="Permalink to this headline"></a></h1>
<p>Defines the functions used along with <a class="reference internal" href="../shape/shape.html#module-ceed.shape" title="ceed.shape"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.shape</span></code></a> to create time-varying
intensities for the shapes during an experiment. <a class="reference internal" href="../stage/stage.html#ceed.stage.CeedStage" title="ceed.stage.CeedStage"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedStage</span></code></a>
combines functions with shapes and displays them during an experiment according
to the stage’s function.</p>
<p>Although the functions’ range is <code class="docutils literal notranslate"><span class="pre">(-infinity,</span> <span class="pre">+infinity)</span></code> and this module
places no restriction on the function output so that it may return any
scalar value, the graphics system can only accept values in the <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>
range for each red, green, or blue channel. Consequently, the graphics system
(at <a class="reference internal" href="../stage/stage.html#ceed.stage.StageFactoryBase.set_shape_gl_color_values" title="ceed.stage.StageFactoryBase.set_shape_gl_color_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ceed.stage.StageFactoryBase.set_shape_gl_color_values()</span></code></a>) will clip
the function output to that range.</p>
<section id="function-factory-and-plugins">
<span id="function-factory-plugin"></span><h2>Function factory and plugins<a class="headerlink" href="#function-factory-and-plugins" title="Permalink to this headline"></a></h2>
<p>The <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> is a store of the defined <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>
sub-classes and customized function instances. Function classes/instances
registered with the <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> instance used by the
the GUI are available to the user in the GUI. During analysis, functions are
similarly registered with the <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> instance used in the
analysis and can then be used to get these functions. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># create the function store</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span> <span class="o">=</span> <span class="n">FunctionFactoryBase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">register_all_functions</span><span class="p">(</span><span class="n">function_factory</span><span class="p">)</span>  <span class="c1"># register plugins</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LinearFunc</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;LinearFunc&#39;</span><span class="p">)</span>  <span class="c1"># get the class</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LinearFunc</span>
<span class="go">ceed.function.plugin.LinearFunc</span>
</pre></div>
</div>
<p>Classes can be registered manually with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.register()</span></code></a> or they can be registered automatically
with <a class="reference internal" href="#ceed.function.register_all_functions" title="ceed.function.register_all_functions"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_all_functions()</span></code></a> if they are an internal plugin or
<a class="reference internal" href="#ceed.function.register_external_functions" title="ceed.function.register_external_functions"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_external_functions()</span></code></a> for an external plugin. The GUI calls
<a class="reference internal" href="#ceed.function.register_all_functions" title="ceed.function.register_all_functions"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_all_functions()</span></code></a> when started as well as
<a class="reference internal" href="#ceed.function.register_external_functions" title="ceed.function.register_external_functions"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_external_functions()</span></code></a> if the
<a class="reference internal" href="../../apps/main.html#ceed.main.CeedApp.external_function_plugin_package" title="ceed.main.CeedApp.external_function_plugin_package"><code class="xref py py-attr docutils literal notranslate"><span class="pre">external_function_plugin_package</span></code></a> configuration
variable contains a package name.</p>
<p>See <a class="reference internal" href="function_plugin.html#module-ceed.function.plugin" title="ceed.function.plugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function.plugin</span></code></a> for details on writing plugins. For details on
how to customize functions, see below for important steps and methods during a
function’s lifecycle.</p>
<p>To get a function class registered with <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a>, e.g.
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.CosFunc" title="ceed.function.plugin.CosFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.plugin.CosFunc</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">CosFunc</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>  <span class="c1"># using class name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CosFunc</span>
<span class="go">ceed.function.plugin.CosFunc</span>
</pre></div>
</div>
</section>
<section id="default-function-instances">
<h2>Default function instances<a class="headerlink" href="#default-function-instances" title="Permalink to this headline"></a></h2>
<p>When a function class (e.g. a linear function or a cosine function) is
registered, we create a default instance of the class,
and that instance is accessible at <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase.funcs_inst</span></code></a>
as well as from the GUI. The GUI makes available function names listed in
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase.funcs_inst</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">funcs_inst</span>
<span class="go">{&#39;Group&#39;: &lt;ceed.function.FuncGroup at 0x2a351743c88&gt;,</span>
<span class="go"> &#39;Const&#39;: &lt;ceed.function.plugin.ConstFunc at 0x2a351743e48&gt;,</span>
<span class="go"> &#39;Linear&#39;: &lt;ceed.function.plugin.LinearFunc at 0x2a351743c18&gt;,</span>
<span class="go"> &#39;Exp&#39;: &lt;ceed.function.plugin.ExponentialFunc at 0x2a351743f98&gt;,</span>
<span class="go"> &#39;Cos&#39;: &lt;ceed.function.plugin.CosFunc at 0x2a351743eb8&gt;}</span>
</pre></div>
</div>
<p>We can also add customized function instances to be available to the user
with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.add_func()</span></code></a>.
They have unique names, by which we access them from the GUI or from
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase.funcs_inst</span></code></a>. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">funcs_inst</span>
<span class="go">{...</span>
<span class="go"> &#39;Cos&#39;: &lt;ceed.function.plugin.CosFunc at 0x1da866f0ac8&gt;,</span>
<span class="go"> &#39;line&#39;: &lt;ceed.function.plugin.LinearFunc at 0x1da866f0278&gt;}</span>
</pre></div>
</div>
<p>The name will be automatically changed if a function with the given name
already exists when it is registered. E.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;line&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;line-2&#39;</span>
</pre></div>
</div>
<p>To use a registered function instance, it needs to be copied before it can be
used. e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">function_factory</span><span class="o">.</span><span class="n">funcs_inst</span><span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func_tree</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
</pre></div>
</div>
</section>
<section id="function-basics">
<h2>Function basics<a class="headerlink" href="#function-basics" title="Permalink to this headline"></a></h2>
<p>All functions inherit from <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>. <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> defines the
(stateful) interface that returns a number when called with a time argument.</p>
<p>Ceed functions are not like typical functions that can be called with any
value, rather, they keep some internal state, which determines what its
current domain is. Specifically, functions may only be called with
monotonically increasing time values, like we do in an experiment where time
always monotonically increases in multiples of the frame rate period. Here’s
some example basic function usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; # function factory stores all the available function types (classes)
&gt;&gt;&gt; function_factory = FunctionFactoryBase()
&gt;&gt;&gt; # register all plugin functions
&gt;&gt;&gt; register_all_functions(function_factory)
&gt;&gt;&gt; # get cosine function class from internal plugin
&gt;&gt;&gt; CosFunc = function_factory.get(&#39;CosFunc&#39;)
&gt;&gt;&gt; # cos will have amplitude of 10, frequency of 1Hz and 10s duration
&gt;&gt;&gt; f = CosFunc(function_factory=function_factory, duration=10, A=10, f=1)
&gt;&gt;&gt; f
&lt;ceed.function.plugin.CosFunc at 0x4eadba8&gt;
&gt;&gt;&gt; # we must initialize the function tree before use
&gt;&gt;&gt; f.init_func_tree()
&gt;&gt;&gt; # then we initialize specifically this function
&gt;&gt;&gt; # initialize function base time at 3. I.e. 3 will be subtracted from
&gt;&gt;&gt; # future times to convert from global to function-local time
&gt;&gt;&gt; f.init_func(3)
&gt;&gt;&gt; # evaluate the function at time 3 - 3 = 0 seconds
&gt;&gt;&gt; f(3)
10.0
&gt;&gt;&gt; f(3.25)  # now at 3.25 - 3 = 0.25 seconds
6.123233995736766e-16
&gt;&gt;&gt; f(3.5)
-10.0
&gt;&gt;&gt; f(15)  # calling outside the domain raises an exception
Traceback (most recent call last):
File &quot;g:\python\libs\ceed\ceed\function\__init__.py&quot;, line 1042, in __call__
    raise FuncDoneException
ceed.function.FuncDoneException
</pre></div>
</div>
<section id="initialization">
<h3>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline"></a></h3>
<p>Before a function can be used, it must be initialized with
<a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func_tree()</span></code></a> and <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func()</span></code></a>.
<a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func_tree()</span></code></a> intializes all functions and sub-functions in
the function tree recursively. <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func()</span></code></a> on the other hand
intitializes each function in the tree just before it is going to be used.
It takes a time value in seconds (in global time) where the domain
of the function starts. This is how we can evaluate the function independant of
the baseline global time. E.g. if a function computes <code class="docutils literal notranslate"><span class="pre">f(t)</span> <span class="pre">=</span> <span class="pre">m</span> <span class="pre">*</span> <span class="pre">t</span> <span class="pre">+</span> <span class="pre">b</span></code>,
it’ll actually always be internally computed as
<code class="docutils literal notranslate"><span class="pre">f(t)</span> <span class="pre">=</span> <span class="pre">m</span> <span class="pre">*</span> <span class="pre">(t</span> <span class="pre">-</span> <span class="pre">t_start)</span> <span class="pre">+</span> <span class="pre">b</span></code>, where <a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.t_start</span></code></a> is the value
passed to <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func()</span></code></a> (and <a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_loop_iteration()</span></code></a>
at each loop iteration, but <a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_loop_iteration()</span></code></a> is called
internally, not by external code).</p>
<p>To evaluate the function, just call it with a time value as in the example
above.</p>
</section>
<section id="domain-and-monotonicity">
<span id="func-domain"></span><h3>Domain and monotonicity<a class="headerlink" href="#domain-and-monotonicity" title="Permalink to this headline"></a></h3>
<p>Functions have a domain, as determined by <a class="reference internal" href="#ceed.function.FuncBase.get_domain" title="ceed.function.FuncBase.get_domain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_domain()</span></code></a>.
By default the domain for a just initialized function is
[<a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.t_start</span></code></a>, <a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.t_start</span></code></a> +
<a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.duration</span></code></a> * <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.loop</span></code></a> *
<a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_timebase()</span></code></a>).
<a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.duration</span></code></a> can <code class="docutils literal notranslate"><span class="pre">-1</span></code>, indicating the domain extends to
+infinity. <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_timebase()</span></code></a> allows one to state the
<a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.duration</span></code></a> in <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.timebase</span></code></a> units, for better
accuracy, rather than in seconds. If a function
loops (<a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.loop</span></code></a>), the domain extends until the end of the loops,
but the domain obviously shrinks with each loop iteration.</p>
<p>The domain always starts at <a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.t_start</span></code></a>, but
<a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.t_start</span></code></a> is updated internally for each loop to the time at the
start of the current loop (or more accurately the time the last loop ended,
<a class="reference internal" href="#ceed.function.FuncBase.t_end" title="ceed.function.FuncBase.t_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.t_end</span></code></a> if it’s before the current time). So the domain gets
smaller as we iterate the loops. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">LinearFunc</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;LinearFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># slope of 2, with 2 loop iterations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loop</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func_tree</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># the valid domain starts at 2 seconds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># zero seconds is outside the domain</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;g:\python\libs\ceed\ceed</span><span class="se">\f</span><span class="s2">unction\__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1032</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="gr">ValueError</span>: <span class="n">Cannot call function &lt;ceed.function.plugin.LinearFunc object at 0x000001B66B022DD8&gt; with time less than the function start 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># intercept at 2 - 2 = 0 seconds is zero</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">t_start</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loop_count</span>  <span class="c1"># it&#39;s in the first loop iteration</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">(</span><span class="n">current_iteration</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(2, Fraction(22, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># value of time at 10 - 2 = 8 seconds</span>
<span class="go">16.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now we called it with a time value at the end of the first loop</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># i.e. 12 seconds is 2 + 10, which is the duration of the function,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># so it automatically increments the loop and updates t_start</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">t_start</span>
<span class="go">Fraction(12, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loop_count</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">(</span><span class="n">current_iteration</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># the valid domain has updated</span>
<span class="go">(Fraction(12, 1), Fraction(22, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="go">16.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span>  <span class="c1"># finally this is the end of the second loop end of domain</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;g:\python\libs\ceed\ceed</span><span class="se">\f</span><span class="s2">unction\__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1042</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="gr">ceed.function.FuncDoneException</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loop_count</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># there&#39;s no more valid domain left</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">()</span>
<span class="go">(-1, -1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># function may only be called monotonically, it won&#39;t always</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># raise an error if called non-monotonically, but generally it will</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;g:\python\libs\ceed\ceed</span><span class="se">\f</span><span class="s2">unction\__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1034</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="gr">ceed.function.FuncDoneException</span>
</pre></div>
</div>
<p>As seen above, the domain of a function changes as it’s called with time
values. Consequently, functions may only be called with monotonically
increasing time arguments. If violated, it may raise an error, but it doesn’t
always.</p>
<p>This rule is required to support functions that perform some IO and
therefore may change some state, so calling with the same time input multiple
times may not make sense. Similarly, we combine functions in a group (e.g.
function A, then B etc), so once we finish function A of the group and moved
to B, we don’t support moving to function A again, unless we are in the next
loop. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ConstFunc</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ConstFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncGroup</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># two constant functions that output a, and 10 respectively</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">ConstFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">ConstFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a function group of two sequential constant functions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FuncGroup</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func_tree</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">(</span><span class="n">current_iteration</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(1, Fraction(9, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># this is internally calling f1</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># now we&#39;re calling f2 internally since we past the 2s duration</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># even though the domain is still the same, we cannot call it now with</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># a value less than 3 (because it&#39;d have to jump back to f1 and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># we don&#39;t need or support that)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">(</span><span class="n">current_iteration</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(1, Fraction(9, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loop_count</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loop_count</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;g:\python\libs\ceed\ceed</span><span class="se">\f</span><span class="s2">unction\__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1341</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="gr">ceed.function.FuncDoneException</span>
</pre></div>
</div>
</section>
<section id="timebase">
<span id="func-timebase"></span><h3>Timebase<a class="headerlink" href="#timebase" title="Permalink to this headline"></a></h3>
<p>As alluded to above, functions have a optional timebase to help be more
precise with the function duration. Normally, the <a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.duration</span></code></a>
is set in seconds to the duration the function should take. But if the
projector is going at say 120 frames per second (fps), we may want to e.g.
set the shape to be intensity 1 for frame 0 (<code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">0</span> <span class="pre">/</span> <span class="pre">120</span></code>) and intensity
0.5 for frame 1 (<code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">120</span></code>). Expressing
<code class="docutils literal notranslate"><span class="pre">duration</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">120</span> <span class="pre">=</span> <span class="pre">0.008333333333333333</span></code> is not possible with decimal
math. Consequently, we allow setting the <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.timebase</span></code></a>.</p>
<p><a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.timebase</span></code></a> determines the units of the
<a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.duration</span></code></a>. If it’s zero, then the units is in seconds, like
normal. If it’s non-zero, e.g. the fraction <code class="docutils literal notranslate"><span class="pre">Fraction(1,</span> <span class="pre">120)</span></code>, then
duration is multiplied by it to get the duration in seconds. So e.g. with
<code class="docutils literal notranslate"><span class="pre">Fraction(1,</span> <span class="pre">120)</span></code>, if duration is <code class="docutils literal notranslate"><span class="pre">12</span></code>, then the stage duration is
<code class="docutils literal notranslate"><span class="pre">12/120</span></code> seconds, or 12 frames.</p>
<p>During an experimental stage when functions are called, we pass time to the
functions represented as fractions rather than decimel, where the denominator
represents the true framerate of the projector, the numerator is the number of
frames elpased, so the time value is the elapsed time since the start. So
e.g. we’d call it with <code class="docutils literal notranslate"><span class="pre">f(Fraction(180,</span> <span class="pre">120))</span></code> if we are 1.5 seconds into
the stage and the projector frame rate is <code class="docutils literal notranslate"><span class="pre">120</span></code>. This allows us to do more
precise duration math. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># duration will be 2 frames at 120 fps (2/120 seconds)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">timebase_numerator</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timebase_denominator</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func_tree</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># start at 1 sec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">(</span><span class="n">current_iteration</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(1, Fraction(61, 60))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_timebase</span><span class="p">()</span>  <span class="c1"># this is what we need to use to get the timebase</span>
<span class="go">Fraction(1, 120)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">timebase</span>
<span class="go">Fraction(1, 120)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># calling it t=frame 0 at 120fps</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># calling it t=frame 1 at 120fps</span>
<span class="go">0.016666666666666666</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># calling it t=frame 2 at 120fps</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;g:\python\libs\ceed\ceed</span><span class="se">\f</span><span class="s2">unction\__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1150</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="gr">ceed.function.FuncDoneException</span>
</pre></div>
</div>
</section>
<section id="inheriting-timebase">
<h3>Inheriting timebase<a class="headerlink" href="#inheriting-timebase" title="Permalink to this headline"></a></h3>
<p>Functions can be grouped, e.g. in the example above. We don’t want to have to
specify the <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.timebase</span></code></a> for each function. Consequently, if the
<a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.timebase</span></code></a> is unspecified (i.e. zero), a
function will inherit the timebase from the <a class="reference internal" href="#ceed.function.FuncBase.parent_func" title="ceed.function.FuncBase.parent_func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.parent_func</span></code></a> they
belong to all the way to the root where <a class="reference internal" href="#ceed.function.FuncBase.parent_func" title="ceed.function.FuncBase.parent_func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.parent_func</span></code></a> is None.</p>
<p>E.g. we want the function to alternate between 2 and 10 for each frame at
120fps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># each sub-function is exactly one frame long</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">ConstFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">ConstFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># so far the timbease are the defaults</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">timebase</span>
<span class="go">Fraction(0, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">get_timebase</span><span class="p">()</span>  <span class="c1"># so it&#39;s in seconds</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># because we specify a timebase for the group, all the sub-functions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># will share the same timebase. Unless a sub function specifically sets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># its own timebase</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FuncGroup</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">timebase_numerator</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timebase_denominator</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now, we inherit the timebase from out parent because we were added</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to a parent and we didn&#39;t set our own timebase</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">timebase</span>
<span class="go">Fraction(0, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">get_timebase</span><span class="p">()</span>  <span class="c1"># our parents timebase</span>
<span class="go">Fraction(1, 120)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">init_func</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># i.e. 120 / 120</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_domain</span><span class="p">(</span><span class="n">current_iteration</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">(1, Fraction(31, 30))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># loop 0, f1</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># loop 0, f2</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># loop 1, f1</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># loop 1, f2</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">124</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>  <span class="c1"># done</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">&quot;g:\python\libs\ceed\ceed</span><span class="se">\f</span><span class="s2">unction\__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1459</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="gr">ceed.function.FuncDoneException</span>
</pre></div>
</div>
<p>As we just saw, unless overwritten by a function, the timebase is inherited
from parent functions if they set it. Therefore, to get the actual timebase use
<a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_timebase()</span></code></a>, instead of <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.timebase</span></code></a>. The latter
is only used to directly set the function’s timebase. Functions that need to
use the timebase should design all the duration values with that in mind.</p>
<p>The downside to setting a timebase is that it’s specific to that timebase, so
to have a function in different timebases, it would need to be replicated
for each timebase.</p>
</section>
<section id="gui-customization">
<h3>GUI customization<a class="headerlink" href="#gui-customization" title="Permalink to this headline"></a></h3>
<p>Function properties are customizable in the GUI by the user according to the
values returned by <a class="reference internal" href="#ceed.function.FuncBase.get_gui_props" title="ceed.function.FuncBase.get_gui_props"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_gui_props()</span></code></a>,
<a class="reference internal" href="#ceed.function.FuncBase.get_prop_pretty_name" title="ceed.function.FuncBase.get_prop_pretty_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_prop_pretty_name()</span></code></a>, and <a class="reference internal" href="#ceed.function.FuncBase.get_gui_elements" title="ceed.function.FuncBase.get_gui_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_gui_elements()</span></code></a>.</p>
<p>These methods control what properties are editable by the user and the values
they may potentially take.</p>
</section>
<section id="randomizing-parameters">
<span id="func-random-param"></span><h3>Randomizing parameters<a class="headerlink" href="#randomizing-parameters" title="Permalink to this headline"></a></h3>
<p>A <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> subclass typically contains parameters. E.g.
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.LinearFunc" title="ceed.function.plugin.LinearFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.plugin.LinearFunc</span></code></a> has a offset and slope (
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.LinearFunc.b" title="ceed.function.plugin.LinearFunc.b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ceed.function.plugin.LinearFunc.b</span></code></a> and
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.LinearFunc.m" title="ceed.function.plugin.LinearFunc.m"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ceed.function.plugin.LinearFunc.m</span></code></a>). Sometimes it is desireable for the
parameters to be randomly re-sampled before each experiment, or even for each
loop iteration (<a class="reference internal" href="#ceed.function.FuncBase.loop_tree_count" title="ceed.function.FuncBase.loop_tree_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.loop_tree_count</span></code></a>).</p>
<p>All parameters that support randomization must be returned by
<a class="reference internal" href="#ceed.function.FuncBase.get_noise_supported_parameters" title="ceed.function.FuncBase.get_noise_supported_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_noise_supported_parameters()</span></code></a> and the specific distribution
used to randomize each parameter (based on <a class="reference internal" href="param_noise.html#module-ceed.function.param_noise" title="ceed.function.param_noise"><code class="xref py py-mod docutils literal notranslate"><span class="pre">param_noise</span></code></a>)
is stored in <a class="reference internal" href="#ceed.function.FuncBase.noisy_parameters" title="ceed.function.FuncBase.noisy_parameters"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.noisy_parameters</span></code></a>. The GUI manages
<a class="reference internal" href="#ceed.function.FuncBase.noisy_parameters" title="ceed.function.FuncBase.noisy_parameters"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.noisy_parameters</span></code></a> from user configuration based on
<a class="reference internal" href="#ceed.function.FuncBase.get_noise_supported_parameters" title="ceed.function.FuncBase.get_noise_supported_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_noise_supported_parameters()</span></code></a>.</p>
<p>Then, when the function is prepared by Ceed it calls
<a class="reference internal" href="#ceed.function.FuncBase.resample_parameters" title="ceed.function.FuncBase.resample_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.resample_parameters()</span></code></a> that re-samples all the randomized
parameters. Parameters that are randomized once for the function lifetime
(<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.sample_each_loop" title="ceed.function.param_noise.NoiseBase.sample_each_loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_each_loop</span></code></a> is False)
are sampled once and the parameter is set to that value. Parameters that are
randomized once for each loop iteration (see the docs for
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.sample_each_loop" title="ceed.function.param_noise.NoiseBase.sample_each_loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_each_loop</span></code></a>) are sampled for
as many iterations they’ll experience and the samples are stored in
<a class="reference internal" href="#ceed.function.FuncBase.noisy_parameter_samples" title="ceed.function.FuncBase.noisy_parameter_samples"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.noisy_parameter_samples</span></code></a>. Then, the parameter is set to the
corresponding value for each iteration at the start in
<a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func()</span></code></a> and <a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_loop_iteration()</span></code></a>.</p>
<p>As explained in <a class="reference internal" href="#ref-function-api"><span class="std std-ref">Reference functions</span></a>, Ceed supports function re-use by
creating a function and using references to it elsewhere. Parameters changed
in the original function will also be reflected in the references.
You have two options for how randomized parameters are handled in reference
functions, controlled by
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.lock_after_forked" title="ceed.function.param_noise.NoiseBase.lock_after_forked"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lock_after_forked</span></code></a>. If it’s True,
all the reference function’s random values will be the same as the original’s
randomly generated values. If False, they will all have uniquely sampled
values.</p>
<p>Possible noise distributions are listed in the
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.ParameterNoiseFactory" title="ceed.function.param_noise.ParameterNoiseFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.param_noise.ParameterNoiseFactory</span></code></a> stored in
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.param_noise_factory" title="ceed.function.FunctionFactoryBase.param_noise_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase.param_noise_factory</span></code></a>. See
<a class="reference internal" href="function_plugin.html#module-ceed.function.plugin" title="ceed.function.plugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function.plugin</span></code></a> for how to add distributions.</p>
</section>
<section id="lifecycle">
<h3>lifecycle<a class="headerlink" href="#lifecycle" title="Permalink to this headline"></a></h3>
<p>The ultimate use of a function is to sample it for all timepoints that the
function is active. Before the function is ready, however, it needs to be
initialized, as well as for each loop iteration. Folowing
are the overall steps performed by stages before using it in an experiment.</p>
<p>Starting with a stage, first the stage and all its functions are copied and
resampled using <a class="reference internal" href="../stage/stage.html#ceed.stage.CeedStage.copy_and_resample" title="ceed.stage.CeedStage.copy_and_resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy_and_resample()</span></code></a>. This calls
<a class="reference internal" href="#ceed.function.FuncBase.resample_parameters" title="ceed.function.FuncBase.resample_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.resample_parameters()</span></code></a> as described there.</p>
<p>Next, we call <a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func_tree()</span></code></a> on each root function in the
stage. This calls <a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func_tree()</span></code></a> recursively on
all the functions’s children (for group functions), if any.</p>
<p>Next, when the stage reaches this function as it ticks though all its
functions, it calls <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func()</span></code></a> to initialize this function run.
This will be called each time the stage or the function’s parent loops around
and restarts the function. It passes the current global time value to be used
by the function to convert subsequent timestemps from global to local
function values (relative to the start).</p>
<p>Then as the stage gets sequential timestamps to sample, it calls
<code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedFunc.__call__()</span></code> with the time value uses the return value for its
shapes intensity. <code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedFunc.__call__()</span></code> will call
<a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_loop_iteration()</span></code></a> as the timestemps reach the end of its
domain and it loops around (if any). When done with the loops, it’ll
raise a <a class="reference internal" href="#ceed.function.FuncDoneException" title="ceed.function.FuncDoneException"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncDoneException</span></code></a> to indicate the function is done.
At the end of each loop iteration and at the end of the overall function it
calls <a class="reference internal" href="#ceed.function.FuncBase.finalize_loop_iteration" title="ceed.function.FuncBase.finalize_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.finalize_loop_iteration()</span></code></a>, and
<a class="reference internal" href="#ceed.function.FuncBase.finalize_func" title="ceed.function.FuncBase.finalize_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.finalize_func()</span></code></a>, respectively.</p>
</section>
<section id="customizing-functions">
<h3>Customizing functions<a class="headerlink" href="#customizing-functions" title="Permalink to this headline"></a></h3>
<p>A <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> has multiple methods that can be overwritten by a plugin.
Following are some relevant methods - see their docs for more details.</p>
<ul class="simple">
<li><p>If the function generates the samples directly without using the public
interfaces classes, <a class="reference internal" href="#ceed.function.FuncBase.resample_parameters" title="ceed.function.FuncBase.resample_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.resample_parameters()</span></code></a> needs to be
augmented if the function has any randomness.</p></li>
<li><p><a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func_tree()</span></code></a>, <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_func()</span></code></a>,
<a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.init_loop_iteration()</span></code></a>,
<a class="reference internal" href="#ceed.function.FuncBase.finalize_loop_iteration" title="ceed.function.FuncBase.finalize_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.finalize_loop_iteration()</span></code></a>, and
<a class="reference internal" href="#ceed.function.FuncBase.finalize_func" title="ceed.function.FuncBase.finalize_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.finalize_func()</span></code></a> may be augmented if any of these function
lifecycle events requires additional initialization/finalization.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedFunc.__call__()</span></code> is the method to inherit from and augment
to return custom values from your function. See the built-in plugins, such as
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.LinearFunc" title="ceed.function.plugin.LinearFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.plugin.LinearFunc</span></code></a> for examples, or below.</p></li>
<li><p>See the function’s properties for additional customizations.</p></li>
</ul>
<p>In all cases, <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_state()</span></code></a> may also need to
be augmented to return any parameters that are part of the instance, otherwise
they won’t be copied when the function is copied and the function will use
incorrect values during an actual experiment when all functions are copied.</p>
<p>If functions are pre-computed, it may not have any side-effects, because they
would occur before the experiment during pre-computing. So if these side-effects
are needed (e.g. drug delivery), either turn off pre-computing for its stage
or set the function’s duration to negative to disable it for the function.</p>
</section>
</section>
<section id="saving-and-restoring-functions">
<h2>Saving and restoring functions<a class="headerlink" href="#saving-and-restoring-functions" title="Permalink to this headline"></a></h2>
<p>Functions can be saved as a data dictionary and later restored into a function
instance. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">state</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">state</span>
<span class="go">{&#39;name&#39;: &#39;line&#39;,</span>
<span class="go"> &#39;cls&#39;: &#39;LinearFunc&#39;,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;timebase_numerator&#39;: 0,</span>
<span class="go"> &#39;timebase_denominator&#39;: 1,</span>
<span class="go"> &#39;noisy_parameters&#39;: {},</span>
<span class="go"> &#39;duration&#39;: 2,</span>
<span class="go"> &#39;t_offset&#39;: 0,</span>
<span class="go"> &#39;m&#39;: 2,</span>
<span class="go"> &#39;b&#39;: 0.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># this is how we create a function from state</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">make_func</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span>
<span class="go">&lt;ceed.function.plugin.LinearFunc at 0x1a2cf679ac8&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>
<span class="go">{&#39;name&#39;: &#39;Linear&#39;,</span>
<span class="go"> &#39;cls&#39;: &#39;LinearFunc&#39;,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;timebase_numerator&#39;: 0,</span>
<span class="go"> &#39;timebase_denominator&#39;: 1,</span>
<span class="go"> &#39;noisy_parameters&#39;: {},</span>
<span class="go"> &#39;duration&#39;: 2,</span>
<span class="go"> &#39;t_offset&#39;: 0,</span>
<span class="go"> &#39;m&#39;: 2,</span>
<span class="go"> &#39;b&#39;: 0.0}</span>
</pre></div>
</div>
<p>If you notice, <code class="docutils literal notranslate"><span class="pre">name</span></code> was not restored to the new function. That’s because
<code class="docutils literal notranslate"><span class="pre">name</span></code> is only restored if we pass <code class="docutils literal notranslate"><span class="pre">clone=True</span></code> as name is considered an
internal property and not always user-customizable. Because we ensure
each function’s name in the GUI is unique. E.g. with clone:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f3</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">make_func</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>
<span class="go">{&#39;name&#39;: &#39;line&#39;,</span>
<span class="go"> &#39;cls&#39;: &#39;LinearFunc&#39;,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> ...</span>
<span class="go"> &#39;b&#39;: 0.0}</span>
</pre></div>
</div>
<p>A fundumental part of Ceed is copying and reconstructing function objects.
E.g. this is required to recover functions from a template file, from old data,
or even to be able to run the experiment because it is run from a second
process. Consequently, anything required for the function to be reconstructed
must be returned by <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_state()</span></code></a>.</p>
</section>
<section id="reference-functions">
<span id="ref-function-api"></span><h2>Reference functions<a class="headerlink" href="#reference-functions" title="Permalink to this headline"></a></h2>
<p>Sometimes you may want to create a function group containing other functions.
Instead of explicitly defining these sub-functions, we may want to refer to
existing registered functions and let these sub-functions update when the
existing function’s parameters are updated. They are mostly meant to be used
from the GUI, although work fine otherwise.</p>
<p><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> allows one to reference functions in such a manner.
Instead of copying a function, just get a reference to it with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.get_func_ref()</span></code></a> and add it to the function group.</p>
<p>When destroyed, such function references must be explicitly released with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.return_func_ref" title="ceed.function.FunctionFactoryBase.return_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.return_func_ref()</span></code></a>, otherwise the original function
cannot be deleted in the GUI.</p>
<p>Methods that accept functions (such as <a class="reference internal" href="#ceed.function.FuncGroup.add_func" title="ceed.function.FuncGroup.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncGroup.add_func()</span></code></a>) should also
typically accept <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> functions.</p>
<p><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> cannot be used directly, unlike normal function.
Therefore, they or any functions that contain them must first copy them and
expand them to refer to the orignal functions being referenced before using
them with <a class="reference internal" href="#ceed.function.FuncBase.copy_expand_ref" title="ceed.function.FuncBase.copy_expand_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.copy_expand_ref()</span></code></a> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedFuncRef.copy_expand_ref()</span></code>.</p>
<p>E.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">&lt;ceed.function.plugin.LinearFunc at 0x1a2cf679c18&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref_func</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get_func_ref</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref_func</span>
<span class="go">&lt;ceed.function.CeedFuncRef at 0x1a2cf74d828&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref_func</span><span class="o">.</span><span class="n">func</span>
<span class="go">&lt;ceed.function.plugin.LinearFunc at 0x1a2cf679c18&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">return_func_ref</span><span class="p">(</span><span class="n">ref_func</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="copying-functions">
<h2>Copying functions<a class="headerlink" href="#copying-functions" title="Permalink to this headline"></a></h2>
<p>Functions can be copied automatically using <code class="docutils literal notranslate"><span class="pre">deepcopy</span></code> or
<a class="reference internal" href="#ceed.function.FuncBase.copy_expand_ref" title="ceed.function.FuncBase.copy_expand_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.copy_expand_ref()</span></code></a>. The former makes a full copy of all the
functions, but any <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> functions will only copy the
<a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>, not the original function being refered to. The latter,
instead of copying the <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>, will replace any
<a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> with copies of the class it refers to.</p>
<p>Functions can be manually copied with <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_state()</span></code></a> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.set_state()</span></code> (although <a class="reference internal" href="#ceed.function.FunctionFactoryBase.make_func" title="ceed.function.FunctionFactoryBase.make_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.make_func()</span></code></a> is
more appropriate for end-user creation).</p>
</section>
<section id="create-function-in-script">
<h2>Create function in script<a class="headerlink" href="#create-function-in-script" title="Permalink to this headline"></a></h2>
<p>A function and stages/shapes can be created in a script,
saved to a yaml file, and then imported from the GUI ready to be
used in an experiment. See
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save_config_to_yaml()</span></code>
for an example.</p>
</section>
<section id="custom-plugin-function-example">
<h2>Custom plugin function example<a class="headerlink" href="#custom-plugin-function-example" title="Permalink to this headline"></a></h2>
<p>As explained above, plugins can register customized <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>
sub-classes to be included in the GUI. Following is an example of how
<code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedFunc.__call__()</span></code> can be overwritten in a plugin. See also
<a class="reference internal" href="function_plugin.html#module-ceed.function.plugin" title="ceed.function.plugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function.plugin</span></code></a> for complete examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyFunc</span><span class="p">(</span><span class="n">CeedFunc</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;MyFunc&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;y(t) = random() * t&#39;</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># this sets the default name of the class and description, but</span>
        <span class="c1"># allows it to be overwritten when specified</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="c1"># alwasy call super first, this handles loop iteration and checking</span>
        <span class="c1"># whether the function is done and raises FuncDoneException</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="c1"># return the value</span>
        <span class="k">return</span> <span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_relative_time</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>If properly registered from the plugin, this function type will be available
in the Ceed GUI.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="ceed.function.FuncDoneException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">FuncDoneException</span></span><a class="headerlink" href="#ceed.function.FuncDoneException" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when the <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> is called with a time value after
its valid time interval.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">FunctionFactoryBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FunctionFactoryBase" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">kivy._event.EventDispatcher</span></code></p>
<p>A global store of the defined <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> sub-classes and
customized function instances.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
<dl class="field-list">
<dt class="field-odd">Events</dt>
<dd class="field-odd"><dl>
<dt>on_changed:</dt><dd><p>The event is triggered every time a function is added or removed
from the factory or if a class is registered.</p>
</dd>
<dt>on_data_event:</dt><dd><p>The event is dispatched by functions whenever the wish to log
something. During an experiment, this data is captured and
recorded in the file.</p>
<p>To dispatch, you must pass the function’s
<a class="reference internal" href="../utils.html#ceed.utils.CeedWithID.ceed_id" title="ceed.utils.CeedWithID.ceed_id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ceed_id</span></code></a>
and a string indicating the event type. You can also pass arbitrary
arguments that gets recorded as well. E.g.
<code class="docutils literal notranslate"><span class="pre">function_factory.dispatch('on_data_event',</span> <span class="pre">func.ceed_id,</span> <span class="pre">'drug',</span>
<span class="pre">.4,</span> <span class="pre">'h2o')</span></code>.</p>
<p>See <a class="reference internal" href="../analysis/analysis.html#ceed.analysis.CeedDataReader.event_data" title="ceed.analysis.CeedDataReader.event_data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">event_data</span></code></a> for details
on default events as well as data type and argument requirements.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.funcs_inst">
<span class="sig-name descname"><span class="pre">funcs_inst</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="Permalink to this definition"></a></dt>
<dd><p>Dict whose keys is the function <a class="reference internal" href="#ceed.function.FuncBase.name" title="ceed.function.FuncBase.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.name</span></code></a> and whose values
is the corresponding function instances.</p>
<p>Contains functions added with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_func()</span></code></a> as well as those
automatically created and added when <a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a> is called on a class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">funcs_inst</span>
<span class="go">{&#39;Group&#39;: &lt;ceed.function.FuncGroup at 0x1da866f00b8&gt;,</span>
<span class="go"> &#39;Const&#39;: &lt;ceed.function.plugin.ConstFunc at 0x1da866f0978&gt;,</span>
<span class="go"> &#39;Linear&#39;: &lt;ceed.function.plugin.LinearFunc at 0x1da866f09e8&gt;,</span>
<span class="go"> &#39;Exp&#39;: &lt;ceed.function.plugin.ExponentialFunc at 0x1da866f0a58&gt;,</span>
<span class="go"> &#39;Cos&#39;: &lt;ceed.function.plugin.CosFunc at 0x1da866f0ac8&gt;,</span>
<span class="go"> &#39;line&#39;: &lt;ceed.function.plugin.LinearFunc at 0x1da866f0278&gt;,</span>
<span class="go"> &#39;line-2&#39;: &lt;ceed.function.plugin.LinearFunc at 0x1da866f0e48&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.funcs_cls">
<span class="sig-name descname"><span class="pre">funcs_cls</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncType" title="ceed.function.FuncType"><span class="pre">ceed.function.FuncType</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.funcs_cls" title="Permalink to this definition"></a></dt>
<dd><p>Dict whose keys is the name of the function classes registered
with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a> and whose values is the corresponding classes.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">funcs_cls</span>
<span class="go">{&#39;FuncGroup&#39;: ceed.function.FuncGroup,</span>
<span class="go"> &#39;ConstFunc&#39;: ceed.function.plugin.ConstFunc,</span>
<span class="go"> &#39;LinearFunc&#39;: ceed.function.plugin.LinearFunc,</span>
<span class="go"> &#39;ExponentialFunc&#39;: ceed.function.plugin.ExponentialFunc,</span>
<span class="go"> &#39;CosFunc&#39;: ceed.function.plugin.CosFunc}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.funcs_user">
<span class="sig-name descname"><span class="pre">funcs_user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.funcs_user" title="Permalink to this definition"></a></dt>
<dd><p>List of the function instances registered with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_func()</span></code></a>.</p>
<p>It does not include the instances automatically created and stored in
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst_default" title="ceed.function.FunctionFactoryBase.funcs_inst_default"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_inst_default</span></code></a> when a function class is <a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.funcs_inst_default">
<span class="sig-name descname"><span class="pre">funcs_inst_default</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.funcs_inst_default" title="Permalink to this definition"></a></dt>
<dd><p>Dict whose keys is the function <a class="reference internal" href="#ceed.function.FuncBase.name" title="ceed.function.FuncBase.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.name</span></code></a> and whose values
are the corresponding function instances.</p>
<p>Contains only the functions that are automatically created and added when
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a> is called on a class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">funcs_inst_default</span>
<span class="go">{&#39;Group&#39;: &lt;ceed.function.FuncGroup at 0x1da866f00b8&gt;,</span>
<span class="go"> &#39;Const&#39;: &lt;ceed.function.plugin.ConstFunc at 0x1da866f0978&gt;,</span>
<span class="go"> &#39;Linear&#39;: &lt;ceed.function.plugin.LinearFunc at 0x1da866f09e8&gt;,</span>
<span class="go"> &#39;Exp&#39;: &lt;ceed.function.plugin.ExponentialFunc at 0x1da866f0a58&gt;,</span>
<span class="go"> &#39;Cos&#39;: &lt;ceed.function.plugin.CosFunc at 0x1da866f0ac8&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.plugin_sources">
<span class="sig-name descname"><span class="pre">plugin_sources</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.plugin_sources" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of the names of all the plugin packages imported, mapped to
the python file contents of the directories in the package. Each value is a
list of tuples.</p>
<p>The first item of each tuple is also a tuple containing the names of the
directories leading to and including the python filename relative to the
package. The second item in the tuple is the bytes content of the file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.unique_names">
<span class="sig-name descname"><span class="pre">unique_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../utils.html#ceed.utils.UniqueNames" title="ceed.utils.UniqueNames"><span class="pre">ceed.utils.UniqueNames</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.unique_names" title="Permalink to this definition"></a></dt>
<dd><p>A set that tracks existing function names to help us ensure all global
functions have unique names.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.param_noise_factory">
<span class="sig-name descname"><span class="pre">param_noise_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="param_noise.html#ceed.function.param_noise.ParameterNoiseFactory" title="ceed.function.param_noise.ParameterNoiseFactory"><span class="pre">ceed.function.param_noise.ParameterNoiseFactory</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.FunctionFactoryBase.param_noise_factory" title="Permalink to this definition"></a></dt>
<dd><p>An automatically created instance of
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.ParameterNoiseFactory" title="ceed.function.param_noise.ParameterNoiseFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.param_noise.ParameterNoiseFactory</span></code></a> that is used to
register and get noise classes for use with functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.get_func_ref">
<span class="sig-name descname"><span class="pre">get_func_ref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="Permalink to this definition"></a></dt>
<dd><p>Returns a <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instance that refers to the
original function. See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
<p>One of <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">func</span></code> must be specified. The function being
referenced by <code class="docutils literal notranslate"><span class="pre">func</span></code> should have been registered with this class,
although it is not explicitly enforced currently.</p>
<p>If used, <a class="reference internal" href="#ceed.function.FunctionFactoryBase.return_func_ref" title="ceed.function.FunctionFactoryBase.return_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_func_ref()</span></code></a> must be called when the reference
is not used anymore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the function to lookup in <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_inst</span></code></a>.</p></li>
<li><p><strong>func</strong> – Or the actual function to use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> to the original function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.return_func_ref">
<span class="sig-name descname"><span class="pre">return_func_ref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.return_func_ref" title="Permalink to this definition"></a></dt>
<dd><p>Releases the function ref created by <a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_func_ref()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func_ref</strong> – Instance returned by <a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_func_ref()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncType" title="ceed.function.FuncType"><span class="pre">ceed.function.FuncType</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.register" title="Permalink to this definition"></a></dt>
<dd><p>Registers the class and adds it to <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_cls" title="ceed.function.FunctionFactoryBase.funcs_cls"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_cls</span></code></a>. It also
creates an instance (unless <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, in which case
that is used) of the class that is added to <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_inst</span></code></a> and
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst_default" title="ceed.function.FunctionFactoryBase.funcs_inst_default"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_inst_default</span></code></a>.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>cls</cite>: subclass of <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a></dt><dd><p>The class to register.</p>
</dd>
<dt><cite>instance</cite>: instance of <cite>cls</cite></dt><dd><p>The instance of <cite>cls</cite> to use. If None, a default
class instance, using the default <a class="reference internal" href="#ceed.function.FuncBase.name" title="ceed.function.FuncBase.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.name</span></code></a> is
stored. Defaults to None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.add_plugin_source">
<span class="sig-name descname"><span class="pre">add_plugin_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.add_plugin_source" title="Permalink to this definition"></a></dt>
<dd><p>Adds the package contents to <a class="reference internal" href="#ceed.function.FunctionFactoryBase.plugin_sources" title="ceed.function.FunctionFactoryBase.plugin_sources"><code class="xref py py-attr docutils literal notranslate"><span class="pre">plugin_sources</span></code></a> if it hasn’t
already been added. Otherwise raises an error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncType" title="ceed.function.FuncType"><span class="pre">ceed.function.FuncType</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.get" title="Permalink to this definition"></a></dt>
<dd><p>Returns the class with name <code class="docutils literal notranslate"><span class="pre">name</span></code> that was registered with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a>.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>name</cite>: str</dt><dd><p>The name of the class (e.g. <code class="docutils literal notranslate"><span class="pre">'ExpFunc'</span></code>).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The class if found, otherwise None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.get_names">
<span class="sig-name descname"><span class="pre">get_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.get_names" title="Permalink to this definition"></a></dt>
<dd><p>Returns the class names of all classes registered with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.get_classes">
<span class="sig-name descname"><span class="pre">get_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncType" title="ceed.function.FuncType"><span class="pre">ceed.function.FuncType</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.get_classes" title="Permalink to this definition"></a></dt>
<dd><p>Returns the classes registered with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.register" title="ceed.function.FunctionFactoryBase.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.add_func">
<span class="sig-name descname"><span class="pre">add_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.add_func" title="Permalink to this definition"></a></dt>
<dd><p>Adds the function to <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_user" title="ceed.function.FunctionFactoryBase.funcs_user"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_user</span></code></a> and <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_inst</span></code></a>,
which makes it available in the GUI.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
<p>If the <a class="reference internal" href="#ceed.function.FuncBase.name" title="ceed.function.FuncBase.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.name</span></code></a> already exists in <a class="reference internal" href="#ceed.function.FunctionFactoryBase.funcs_inst" title="ceed.function.FunctionFactoryBase.funcs_inst"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs_inst</span></code></a>,
<a class="reference internal" href="#ceed.function.FuncBase.name" title="ceed.function.FuncBase.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.name</span></code></a> will be set to a unique name based on its
original name. Once added until removed, anytime the function’s
<a class="reference internal" href="#ceed.function.FuncBase.name" title="ceed.function.FuncBase.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.name</span></code></a> changes, if it clashes with an existing
function’s name, it is automatically renamed.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>func</cite>: a <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> derived instance.</dt><dd><p>The function to add.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.remove_func">
<span class="sig-name descname"><span class="pre">remove_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.remove_func" title="Permalink to this definition"></a></dt>
<dd><p>Removes a function previously added with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_func()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>func</cite>: a <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> derived instance.</dt><dd><p>The function to remove.</p>
</dd>
<dt><cite>force</cite>: bool</dt><dd><p>If True, it’ll remove the function even if there are references
to it created by <a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_func_ref()</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the function was removed successfully. E.g. if
force is False and it has a ref, it won’t be removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.clear_added_funcs">
<span class="sig-name descname"><span class="pre">clear_added_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.clear_added_funcs" title="Permalink to this definition"></a></dt>
<dd><p>Removes all the functions registered with <a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_func()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>force</cite>: bool</dt><dd><p>If True, it’ll remove all functions even if there are
references to them created by <a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_func_ref()</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.make_func">
<span class="sig-name descname"><span class="pre">make_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.make_func" title="Permalink to this definition"></a></dt>
<dd><p>Instantiates the function from the state and returns it.</p>
<p>This method must be used to instantiate a function from state.
See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details and an example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> – The state dict representing the function as returned by
<a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_state()</span></code></a>.</p></li>
<li><p><strong>instance</strong> – If None, a function instance of the type specified
in <code class="docutils literal notranslate"><span class="pre">state</span></code> will be created and state will applied to it.
Otherwise, it is applied to the given instance, which must be of
the correct class.</p></li>
<li><p><strong>clone</strong> – If False, only user customizable properties of the
function will be set, otherwise, all properties from state are
applied to the function. Clone is meant to be an complete
re-instantiation of the function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The function instance created.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.save_functions">
<span class="sig-name descname"><span class="pre">save_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.save_functions" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict representation of all the functions added with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_func()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>use_cache</strong> – If True, it’ll get the state using the cache from
previous times the state was read and cached, if the cache exists.</p>
</dd>
</dl>
<p>It is a list of dicts where each item is the
<a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.get_state()</span></code></a> of the corresponding function in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">user_funcs</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FunctionFactoryBase.recover_funcs">
<span class="sig-name descname"><span class="pre">recover_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_states</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FunctionFactoryBase.recover_funcs" title="Permalink to this definition"></a></dt>
<dd><p>Takes a list of function states such as returned by
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.save_functions" title="ceed.function.FunctionFactoryBase.save_functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_functions()</span></code></a> and instantiates the functions represented by
the states and adds (<a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_func()</span></code></a>) the functions to the factory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function_states</strong> – List of function states.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple <code class="docutils literal notranslate"><span class="pre">funcs,</span> <span class="pre">name_map</span></code>, <code class="docutils literal notranslate"><span class="pre">funcs</span></code> is the list of
functions, <code class="docutils literal notranslate"><span class="pre">name_map</span></code> is a map from the original function’s name
to the new name given to the function (in case a function with that
name already existed).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ceed.function.FuncBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">FuncBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_factory</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncBase" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">kivy._event.EventDispatcher</span></code>, <a class="reference internal" href="../utils.html#ceed.utils.CeedWithID" title="ceed.utils.CeedWithID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.utils.CeedWithID</span></code></a></p>
<p>The base class for all functions.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
<p>When writing a plugin with new functions, you probably want to inherit
from <a class="reference internal" href="#ceed.function.CeedFunc" title="ceed.function.CeedFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFunc</span></code></a> because it provides some convenience methods
(calling the function will check if it’s in the valid domain). See e.g.
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.LinearFunc" title="ceed.function.plugin.LinearFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.plugin.LinearFunc</span></code></a> for an example.</p>
<dl class="field-list simple">
<dt class="field-odd">Events</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>on_changed</cite>:</dt><dd><p>Triggered whenever a configurable property (i.e. it is returned as
key in the <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a> dict) of this instance is changed.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ceed.function.FuncBase.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the function instance. The name must be unique within a
<a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> once it is added
(<a class="reference internal" href="#ceed.function.FunctionFactoryBase.add_func" title="ceed.function.FunctionFactoryBase.add_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.add_func()</span></code></a>) to the
<a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a>, otherwise it’s automatically renamed.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.description">
<span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#ceed.function.FuncBase.description" title="Permalink to this definition"></a></dt>
<dd><p>A description of the function. This is shown to the user and should
describe the function.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.icon">
<span class="sig-name descname"><span class="pre">icon</span></span><a class="headerlink" href="#ceed.function.FuncBase.icon" title="Permalink to this definition"></a></dt>
<dd><p>The function icon. Not used currently.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.duration" title="Permalink to this definition"></a></dt>
<dd><p>How long after the start of the function until the function is complete
and the stage continues on to the next <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a> or the function is
completely done.</p>
<p>The loop iteration is done when the function reaches <a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration</span></code></a> after
the function <a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code></a>. So, if it starts at 0 seconds and
<a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration</span></code></a> is 1 second, it is done at exactly 1 second.</p>
<p>-1 means go on forever and it never finishes (except if manually finished).
This could be used e.g. if waiting for some external interrupt - set
duration to -1, and only finish when the interrupt happens.</p>
<p>For <a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a> this is automatically computed as the sum of all the
sub-function duration. If any of them are negative, this will also be
negative.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for more details.</p>
<p>The value is in <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a> units.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.duration_min">
<span class="sig-name descname"><span class="pre">duration_min</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.duration_min" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration</span></code></a>, except it excludes any infinite portions of
the function duration.</p>
<p>I.e. any sub function whose duration is negative will be read as zero. This
gives the estimated minimum duration not including any infinite portions
of a single loop iteration.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for more details.</p>
<p>The value is in <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a> units and is read only.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.duration_min_total">
<span class="sig-name descname"><span class="pre">duration_min_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.duration_min_total" title="Permalink to this definition"></a></dt>
<dd><p>The total duration of the function including all the loops, excluding
any infinite portions of the function duration.</p>
<p>Similar to <a class="reference internal" href="#ceed.function.FuncBase.duration_min" title="ceed.function.FuncBase.duration_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration_min</span></code></a>, except it includes all the loops. So e.g.
if <a class="reference internal" href="#ceed.function.FuncBase.duration_min" title="ceed.function.FuncBase.duration_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration_min</span></code></a> is <code class="docutils literal notranslate"><span class="pre">5</span></code> and <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a> is <code class="docutils literal notranslate"><span class="pre">2</span></code>,
<a class="reference internal" href="#ceed.function.FuncBase.duration_min_total" title="ceed.function.FuncBase.duration_min_total"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration_min_total</span></code></a> would typically be <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for more details.</p>
<p>The value is in <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a> units and is read only.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.loop">
<span class="sig-name descname"><span class="pre">loop</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#ceed.function.FuncBase.loop" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>The number of times the function loops through before it is considered</dt><dd><p>done.</p>
</dd>
</dl>
<p>At the end of each loop <a class="reference internal" href="#ceed.function.FuncBase.loop_count" title="ceed.function.FuncBase.loop_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop_count</span></code></a> is incremented until done,
starting from zero.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for more details.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.parent_func">
<span class="sig-name descname"><span class="pre">parent_func</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.FuncBase.parent_func" title="Permalink to this definition"></a></dt>
<dd><p>If this function is the child of another function, e.g. it’s a
sub-function of a <a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a> instance, then <a class="reference internal" href="#ceed.function.FuncBase.parent_func" title="ceed.function.FuncBase.parent_func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parent_func</span></code></a>
points to the parent function.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.has_ref">
<span class="sig-name descname"><span class="pre">has_ref</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#ceed.function.FuncBase.has_ref" title="Permalink to this definition"></a></dt>
<dd><p>Whether there’s a CeedFuncRef pointing to this function. If True,
the function should not be deleted from the function factory that holds it.</p>
<p>This is automatically set by <a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.get_func_ref()</span></code></a>
and <a class="reference internal" href="#ceed.function.FunctionFactoryBase.return_func_ref" title="ceed.function.FunctionFactoryBase.return_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.return_func_ref()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.display">
<span class="sig-name descname"><span class="pre">display</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.FuncBase.display" title="Permalink to this definition"></a></dt>
<dd><p>The widget that visualize this function, if any.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.timebase_numerator">
<span class="sig-name descname"><span class="pre">timebase_numerator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.timebase_numerator" title="Permalink to this definition"></a></dt>
<dd><p>The numerator of the timebase. See <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.timebase_denominator">
<span class="sig-name descname"><span class="pre">timebase_denominator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.timebase_denominator" title="Permalink to this definition"></a></dt>
<dd><p>The denominator of the timebase. See <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.timebase">
<span class="sig-name descname"><span class="pre">timebase</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.timebase" title="Permalink to this definition"></a></dt>
<dd><p>The (read-only) timebase scale factor as computed by
<a class="reference internal" href="#ceed.function.FuncBase.timebase_numerator" title="ceed.function.FuncBase.timebase_numerator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_numerator</span></code></a> <code class="docutils literal notranslate"><span class="pre">/</span></code> <a class="reference internal" href="#ceed.function.FuncBase.timebase_denominator" title="ceed.function.FuncBase.timebase_denominator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_denominator</span></code></a>. It returns
either a float, or a Fraction instance when the numerator and
denominator are ints.</p>
<p>To set, <a class="reference internal" href="#ceed.function.FuncBase.timebase_numerator" title="ceed.function.FuncBase.timebase_numerator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_numerator</span></code></a> and <a class="reference internal" href="#ceed.function.FuncBase.timebase_denominator" title="ceed.function.FuncBase.timebase_denominator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_denominator</span></code></a> must
be set individually. To use, call <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a>, rather than
using <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a> directly.</p>
<p>The timebase is the scaling factor by which some function properties that
relate to time, e.g. <a class="reference internal" href="#ceed.function.FuncBase.duration" title="ceed.function.FuncBase.duration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">duration</span></code></a>, are multiplied to convert from
timebase units to time.</p>
<p>By default <a class="reference internal" href="#ceed.function.FuncBase.timebase_numerator" title="ceed.function.FuncBase.timebase_numerator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_numerator</span></code></a> is 0 and
<a class="reference internal" href="#ceed.function.FuncBase.timebase_denominator" title="ceed.function.FuncBase.timebase_denominator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_denominator</span></code></a> is 1 which makes <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a> 0
indicating that the timebase used is given by the parent function or is 1.
When <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a> is not 0 this <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a> is used instead.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> and <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a> for more details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This property is dispatched whenever the value returned by
<a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a> would change, even if <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a> didn’t
change. E.g. when a parent’s timebase changes.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.t_start">
<span class="sig-name descname"><span class="pre">t_start</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#ceed.function.FuncBase.t_start" title="Permalink to this definition"></a></dt>
<dd><p>The global time offset subtracted from the time passed to the function.</p>
<p>This is the global time with which the function or loop was initialized,
<a class="reference internal" href="#ceed.function.FuncBase.get_relative_time" title="ceed.function.FuncBase.get_relative_time"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_relative_time()</span></code></a> removes it to get to local time.
The value is in seconds. See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for more details.</p>
<p>Don’t set directly, it is set in <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.t_end">
<span class="sig-name descname"><span class="pre">t_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#ceed.function.FuncBase.t_end" title="Permalink to this definition"></a></dt>
<dd><p>The time at which the loop or function ends in global timebase.</p>
<p>Set by the function after each loop is done (i.e.
<a class="reference internal" href="#ceed.function.CeedFunc.is_loop_done" title="ceed.function.CeedFunc.is_loop_done"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedFunc.is_loop_done()</span></code></a> returned True) and is typically the second
value from <a class="reference internal" href="#ceed.function.FuncBase.get_domain" title="ceed.function.FuncBase.get_domain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_domain()</span></code></a>, or the current time value if that is
negative.</p>
<p>It is updated before <a class="reference internal" href="#ceed.function.FuncBase.finalize_loop_iteration" title="ceed.function.FuncBase.finalize_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_loop_iteration()</span></code></a>, and
<a class="reference internal" href="#ceed.function.FuncBase.finalize_func" title="ceed.function.FuncBase.finalize_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_func()</span></code></a> are called.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.loop_count">
<span class="sig-name descname"><span class="pre">loop_count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#ceed.function.FuncBase.loop_count" title="Permalink to this definition"></a></dt>
<dd><p>The current loop iteration.</p>
<p>This goes from zero (set by <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a> /
<a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a>) to <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a>. The function is done when
it is exactly <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a>, having looped <code class="xref py py-attr docutils literal notranslate"><span class="pre">times</span></code>.
When <a class="reference internal" href="#ceed.function.FuncBase.finalize_loop_iteration" title="ceed.function.FuncBase.finalize_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_loop_iteration()</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncBase.finalize_func" title="ceed.function.FuncBase.finalize_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_func()</span></code></a> are called, it is the value for the loop
iteration that just ended.</p>
<p>See also <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.loop_tree_count">
<span class="sig-name descname"><span class="pre">loop_tree_count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#ceed.function.FuncBase.loop_tree_count" title="Permalink to this definition"></a></dt>
<dd><p>The current iteration, starting from zero, and incremented for each loop
of the function, including outside loops that loop over the function.</p>
<p>See <a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> for details.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.noisy_parameters">
<span class="sig-name descname"><span class="pre">noisy_parameters</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase" title="ceed.function.param_noise.NoiseBase"><span class="pre">ceed.function.param_noise.NoiseBase</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ceed.function.FuncBase.noisy_parameters" title="Permalink to this definition"></a></dt>
<dd><p>A dict mapping parameter names of the function to
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase" title="ceed.function.param_noise.NoiseBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoiseBase</span></code></a> instances that indicate
how the parameter should be sampled, when the parameter needs to be
stochastic.</p>
<p>Only parameters returned in <a class="reference internal" href="#ceed.function.FuncBase.get_noise_supported_parameters" title="ceed.function.FuncBase.get_noise_supported_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_noise_supported_parameters()</span></code></a> may
have randomness associated with them.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UniformNoise</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">param_noise_factory</span><span class="o">.</span><span class="n">get_cls</span><span class="p">(</span><span class="s1">&#39;UniformNoise&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">set_parameter_noise</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">noise_obj</span><span class="o">=</span><span class="n">UniformNoise</span><span class="p">(</span><span class="n">min_val</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_val</span><span class="o">=</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">m</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">b</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">m</span>
<span class="go">12.902067284602595</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">m</span>
<span class="go">11.555420807597352</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">b</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.function_factory">
<span class="sig-name descname"><span class="pre">function_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><span class="pre">ceed.function.FunctionFactoryBase</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.FuncBase.function_factory" title="Permalink to this definition"></a></dt>
<dd><p>The <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> instance with which this function is
associated. This should be set by whoever creates the function by passing
it to the constructor.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncBase.noisy_parameter_samples">
<span class="sig-name descname"><span class="pre">noisy_parameter_samples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ceed.function.FuncBase.noisy_parameter_samples" title="Permalink to this definition"></a></dt>
<dd><p>For each parameter listed in <a class="reference internal" href="#ceed.function.FuncBase.noisy_parameters" title="ceed.function.FuncBase.noisy_parameters"><code class="xref py py-attr docutils literal notranslate"><span class="pre">noisy_parameters</span></code></a>, if
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.sample_each_loop" title="ceed.function.param_noise.NoiseBase.sample_each_loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_each_loop</span></code></a>, then during
the <a class="reference internal" href="#ceed.function.FuncBase.resample_parameters" title="ceed.function.FuncBase.resample_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resample_parameters()</span></code></a> stage we pre-compute the values for the
parameter for each loop iteration and store it here.</p>
<p>The pre-computed values are then used to update the parameter during each
<a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a> and <a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a>. The total number of
samples includes all outside loops, see
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.sample_each_loop" title="ceed.function.param_noise.NoiseBase.sample_each_loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_each_loop</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_timebase">
<span class="sig-name descname"><span class="pre">get_timebase</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_timebase" title="Permalink to this definition"></a></dt>
<dd><p>Returns the function’s timebase.</p>
<p>If <a class="reference internal" href="#ceed.function.FuncBase.timebase_numerator" title="ceed.function.FuncBase.timebase_numerator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase_numerator</span></code></a> and <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a> is 0, it returns the
timebase of its <a class="reference internal" href="#ceed.function.FuncBase.parent_func" title="ceed.function.FuncBase.parent_func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parent_func</span></code></a> with <a class="reference internal" href="#ceed.function.FuncBase.get_timebase" title="ceed.function.FuncBase.get_timebase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_timebase()</span></code></a> if it has
a parent. If it doesn’t have a parent, it return 1.
Otherwise, it returns <a class="reference internal" href="#ceed.function.FuncBase.timebase" title="ceed.function.FuncBase.timebase"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timebase</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_gui_props">
<span class="sig-name descname"><span class="pre">get_gui_props</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncBase.get_gui_props" title="Permalink to this definition"></a></dt>
<dd><p>Called internally by the GUI to get the properties of the function
that should be displayed to the user to be customized.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>A dict that contains all properties that should be displayed. The
values of the property is as follows:</p>
<ul>
<li><p>If it’s the string int, float, str or it’s the python type
int, float, or str then the GUI will show a editable property
for this type.</p></li>
<li><p>If it’s None, we look at the value of the property
in the instance and display accordingly (e.g. if it’s a str type
property, a string property is displayed to the user).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default value determines the type. So if the default value
is <code class="docutils literal notranslate"><span class="pre">0</span></code>, the type will be int and a user won’t be able to
enter a float. Use e.g. <code class="docutils literal notranslate"><span class="pre">0.0</span></code> in the latter case.</p>
</div>
</li>
</ul>
</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span><span class="o">.</span><span class="n">get_gui_props</span><span class="p">()</span>
<span class="go">{&#39;A&#39;: None,</span>
<span class="go"> &#39;duration&#39;: None,</span>
<span class="go"> &#39;f&#39;: None,</span>
<span class="go"> &#39;loop&#39;: None,</span>
<span class="go"> &#39;name&#39;: None,</span>
<span class="go"> &#39;t_offset&#39;: None,</span>
<span class="go"> &#39;th0&#39;: None}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_prop_pretty_name">
<span class="sig-name descname"><span class="pre">get_prop_pretty_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncBase.get_prop_pretty_name" title="Permalink to this definition"></a></dt>
<dd><p>Called internally by the GUI to get a translation dictionary which
converts property names as used in <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a> into nicer
property names used to display the properties to the user for
customization. E.g. “timebase_numerator” may be displayed as
“TB num” as that is more concise.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dict that contains all properties whose names should be changed
when displayed. Keys in the dict are the names as returned by
<a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a>, the values are the names that should be
displayed instead. If a property is not included it’s
original property name is used instead.</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">)</span>
<span class="go">{&#39;timebase_numerator&#39;: &#39;TB num&#39;, &#39;timebase_denominator&#39;: &#39;TB denom&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_gui_elements">
<span class="sig-name descname"><span class="pre">get_gui_elements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_gui_elements" title="Permalink to this definition"></a></dt>
<dd><p>Returns widget instances that should be displayed to the user along
with this function’s editable properties of <a class="reference internal" href="#ceed.function.FuncBase.get_gui_props" title="ceed.function.FuncBase.get_gui_props"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_gui_props()</span></code></a>.</p>
<p>These widgets are displayed along with other config
parameters for the function and can be used for custom config options.
This is called by the Ceed GUI when the settings are first
displayed to the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>It should return a dict of the name of each setting mapped to
the widget controlling the setting. It will be displayed in two
columns: the name followed by the widget on the same row.</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span><span class="o">.</span><span class="n">get_gui_elements</span><span class="p">()</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_noise_supported_parameters">
<span class="sig-name descname"><span class="pre">get_noise_supported_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_noise_supported_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Returns the set of property names of this function that supports
randomness and may have an
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase" title="ceed.function.param_noise.NoiseBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.param_noise.NoiseBase</span></code></a> instance associated with
it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_cached_state">
<span class="sig-name descname"><span class="pre">get_cached_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_cached_state" title="Permalink to this definition"></a></dt>
<dd><p>Like <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a>, but it caches the result. And next time it
is called, if <code class="docutils literal notranslate"><span class="pre">use_cache</span></code> is True, the cached value will be returned,
unless the config changed in between. Helpful for backup so we don’t
recompute the full state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>use_cache</strong> – If True, it’ll get the state using the cache from
previous times the state was read and cached, if the cache exists.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The state dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_state">
<span class="sig-name descname"><span class="pre">get_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recurse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_state" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict representation of the function so that it can be
reconstructed later with <a class="reference internal" href="#ceed.function.FuncBase.apply_state" title="ceed.function.FuncBase.apply_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_state()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>recurse</cite>: bool</dt><dd><p>When the function has children functions, e.g. a
<a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a>, if True all the children functions’
states will also be returned, otherwise, only this function’s
state is returned. See the example.</p>
</dd>
<dt><cite>expand_ref</cite>: bool</dt><dd><p>If True, if any sub-functions (or this function itself) are
<a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instances, they will be expanded to
contain the state of the actual underlying function. Otherwise,
it is returned as being a function reference.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict with all the configuration data.</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>
<span class="go">{&#39;A&#39;: 1.0,</span>
<span class="go"> &#39;cls&#39;: &#39;CosFunc&#39;,</span>
<span class="go"> &#39;duration&#39;: 0,</span>
<span class="go"> &#39;f&#39;: 1.0,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Cos&#39;,</span>
<span class="go"> &#39;t_offset&#39;: 0,</span>
<span class="go"> &#39;th0&#39;: 0.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Group</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Group</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;ceed.function.FuncGroup at 0x4f85800&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">cos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">get_state</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;cls&#39;: &#39;FuncGroup&#39;,</span>
<span class="go"> &#39;funcs&#39;: [{&#39;A&#39;: 1.0,</span>
<span class="go">   &#39;cls&#39;: &#39;CosFunc&#39;,</span>
<span class="go">   &#39;duration&#39;: 0,</span>
<span class="go">   &#39;f&#39;: 1.0,</span>
<span class="go">   &#39;loop&#39;: 1,</span>
<span class="go">   &#39;name&#39;: &#39;Cos&#39;,</span>
<span class="go">   &#39;t_offset&#39;: 0,</span>
<span class="go">   &#39;th0&#39;: 0.0}],</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Group&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">get_state</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{&#39;cls&#39;: &#39;FuncGroup&#39;,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Group&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.apply_state">
<span class="sig-name descname"><span class="pre">apply_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncBase.apply_state" title="Permalink to this definition"></a></dt>
<dd><p>Takes the state of the function saved with <a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a> and
applies it to this function. it also creates any children function e.g.
in the case it is a <a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a> etc.</p>
<p>It is called internally and should not be used directly. Use
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.make_func" title="ceed.function.FunctionFactoryBase.make_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.make_func()</span></code></a> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>state</cite>: dict</dt><dd><p>The dict to use to reconstruct the function as returned by
<a class="reference internal" href="#ceed.function.FuncBase.get_state" title="ceed.function.FuncBase.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a>.</p>
</dd>
<dt><cite>clone</cite>: bool</dt><dd><p>If True will apply all the state exactly as in the original
function, otherwise it doesn’t apply internal parameters
listed in <code class="xref py py-attr docutils literal notranslate"><span class="pre">_clone_props</span></code> that are not user customizable.</p>
</dd>
</dl>
</dd>
</dl>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for an example.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_funcs">
<span class="sig-name descname"><span class="pre">get_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_into_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_funcs" title="Permalink to this definition"></a></dt>
<dd><p>Generator that yields the function and all its children functions
if it has any, e.g. for <a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a>. It’s in DFS order.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>step_into_ref</cite>: bool</dt><dd><p>If True, when it encounters a <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instance
it’ll step into it and return that function and its children.
Otherwise, it’ll just return the <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> and not
step into it.</p>
</dd>
</dl>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Group</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Group</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">cos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">cos</span><span class="o">.</span><span class="n">get_funcs</span><span class="p">()]</span>
<span class="go">[&lt;ceed.function.plugin.CosFunc at 0x4d71c78&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">get_funcs</span><span class="p">()]</span>
<span class="go">[&lt;ceed.function.FuncGroup at 0x4f85800&gt;,</span>
<span class="go"> &lt;ceed.function.plugin.CosFunc at 0x4d71c78&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.can_other_func_be_added">
<span class="sig-name descname"><span class="pre">can_other_func_be_added</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.can_other_func_be_added" title="Permalink to this definition"></a></dt>
<dd><p>Checks whether the other function may be added to this function.</p>
<p>Specifically, it checks whether this function is a child of the other
function, and if so we shouldn’t allow the other function to be added
to this function as it’ll create a circular tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other_func</strong> – Another <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether it is safe to add the other function as a child of
this function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.copy_expand_ref">
<span class="sig-name descname"><span class="pre">copy_expand_ref</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a></span></span><a class="headerlink" href="#ceed.function.FuncBase.copy_expand_ref" title="Permalink to this definition"></a></dt>
<dd><p>Copies this function and all its sub-functions.</p>
<p>If any of them are <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instances, they are replaced
with a copy of their original function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A copy of this function, with all <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>
instances replaced by their original normal function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.init_func_tree">
<span class="sig-name descname"><span class="pre">init_func_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.init_func_tree" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the function as part of the function tree so it is ready
to be called to get the function values as part of the tree. It is
called once for each function of the entire function tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root</strong> – The root of the function tree. If None, it’s self.</p>
</dd>
</dl>
<p>For example, for the following function structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GroupFunc</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">loop</span><span class="p">:</span> <span class="mi">5</span>
    <span class="n">GroupFunc</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;child_a&#39;</span>
        <span class="n">loop</span><span class="p">:</span> <span class="mi">3</span>
        <span class="n">ConstFunc</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;child&#39;</span>
            <span class="n">loop</span><span class="p">:</span> <span class="mi">4</span>
</pre></div>
</div>
<p>when the experiment is ready, after <a class="reference internal" href="#ceed.function.FuncBase.resample_parameters" title="ceed.function.FuncBase.resample_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resample_parameters()</span></code></a> and the
stage is ready to run, ceed will call <a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> once for
<code class="docutils literal notranslate"><span class="pre">root</span></code>, <code class="docutils literal notranslate"><span class="pre">child_a</span></code>, and <code class="docutils literal notranslate"><span class="pre">child</span></code> in that order. The <code class="docutils literal notranslate"><span class="pre">root</span></code>
parameter passed will be the <code class="docutils literal notranslate"><span class="pre">root</span></code> function.</p>
<p>Then, it will call <a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a> for <code class="docutils literal notranslate"><span class="pre">root</span></code>, <code class="docutils literal notranslate"><span class="pre">child_a</span></code>, and
<code class="docutils literal notranslate"><span class="pre">child</span></code> 1, 5, and 15 times, respectively. Once for each time the
function is started.</p>
<p>Finally, it will call <a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a> for <code class="docutils literal notranslate"><span class="pre">root</span></code>,
<code class="docutils literal notranslate"><span class="pre">child_a</span></code>, and <code class="docutils literal notranslate"><span class="pre">child</span></code> 4, 10, and 45 times, respectively. Once for
each loop iteration of the function, except the first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.init_func">
<span class="sig-name descname"><span class="pre">init_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.init_func" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the function so it is ready to be called to get
the function values. See also <a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncBase.init_loop_iteration" title="ceed.function.FuncBase.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a>. If overriding, <code class="docutils literal notranslate"><span class="pre">super</span></code> must be called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t_start</strong> – The time in seconds in global time. <a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code></a>
will be set to this value. All subsequent calls to the
function with a time value will be relative to this given time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.init_loop_iteration">
<span class="sig-name descname"><span class="pre">init_loop_iteration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.init_loop_iteration" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the function at the beginning of each loop.</p>
<p>It’s called internally at the start of every <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a> iteration,
<strong>except the first</strong>. See also <a class="reference internal" href="#ceed.function.FuncBase.init_func_tree" title="ceed.function.FuncBase.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncBase.init_func" title="ceed.function.FuncBase.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a>. If overriding, <code class="docutils literal notranslate"><span class="pre">super</span></code> must be called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t_start</strong> – The time in seconds in global time. <a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code></a>
will be set to this value. All subsequent calls to the
function with a time value will be relative to this given time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.finalize_func">
<span class="sig-name descname"><span class="pre">finalize_func</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.finalize_func" title="Permalink to this definition"></a></dt>
<dd><p>Finalizes the function at the end of all its loops, when the
function is done. See also <a class="reference internal" href="#ceed.function.FuncBase.finalize_loop_iteration" title="ceed.function.FuncBase.finalize_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_loop_iteration()</span></code></a>.
If overriding, <code class="docutils literal notranslate"><span class="pre">super</span></code> must be called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.finalize_loop_iteration">
<span class="sig-name descname"><span class="pre">finalize_loop_iteration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.finalize_loop_iteration" title="Permalink to this definition"></a></dt>
<dd><p>Finalizes the function at the end of each loop, including the first
and last. See also <a class="reference internal" href="#ceed.function.FuncBase.finalize_func" title="ceed.function.FuncBase.finalize_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_func()</span></code></a>.
If overriding, <code class="docutils literal notranslate"><span class="pre">super</span></code> must be called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_domain">
<span class="sig-name descname"><span class="pre">get_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_iteration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_domain" title="Permalink to this definition"></a></dt>
<dd><p>Returns the current domain of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>current_iteration</strong> – If True, returns the domain for the current
loop iteration (i.e. the end point is the expected end time of the
current loop). Otherwise, returns the domain ending at the end of
the final loop iteration. In both cases, the interval start is the
time the current loop iteration started, in <strong>global time</strong>.</p>
</dd>
</dl>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_relative_time">
<span class="sig-name descname"><span class="pre">get_relative_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_relative_time" title="Permalink to this definition"></a></dt>
<dd><p>Converts the global time to the local function time.</p>
<p>At each time-step, the function is called with the global time. This
function converts the time into local time, relative to the
<a class="reference internal" href="#ceed.function.FuncBase.t_start" title="ceed.function.FuncBase.t_start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code></a>. Also adds any function specific offset (e.g.
<a class="reference internal" href="#ceed.function.CeedFunc.t_offset" title="ceed.function.CeedFunc.t_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CeedFunc.t_offset</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.tick_loop">
<span class="sig-name descname"><span class="pre">tick_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.tick_loop" title="Permalink to this definition"></a></dt>
<dd><p>Increments <a class="reference internal" href="#ceed.function.FuncBase.loop_count" title="ceed.function.FuncBase.loop_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop_count</span></code></a> and returns whether the function is
done, which is when all the <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a> iterations are done and
<a class="reference internal" href="#ceed.function.FuncBase.loop_count" title="ceed.function.FuncBase.loop_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop_count</span></code></a> reached <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">t</span></code> is in seconds in global time and this is only called
when the function time reached the end of its valid domain so that it
makes sense to increment the loop. I.e. if the user called the function
with a time past the current loop duration, this is called internally
to increment the loop.</p>
<p>May not be called with time values smaller than the domain. Or if the
loop iterations are already done.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> – The time at which the last function in the tree or loop
iteration of this function ended, in global time.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it ticked the loop, otherwise False if we cannot tick
because we hit the max and the function is done.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.resample_parameters">
<span class="sig-name descname"><span class="pre">resample_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_forked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_loops</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncBase.resample_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Resamples all the function parameters that have randomness
attached to it in <a class="reference internal" href="#ceed.function.FuncBase.noisy_parameters" title="ceed.function.FuncBase.noisy_parameters"><code class="xref py py-attr docutils literal notranslate"><span class="pre">noisy_parameters</span></code></a> and updates their values.</p>
<p>For all parameters that are randomized and
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.sample_each_loop" title="ceed.function.param_noise.NoiseBase.sample_each_loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_each_loop</span></code></a> is True,
the samples for all the iterations are also pre-sampled and stored in
<a class="reference internal" href="#ceed.function.FuncBase.noisy_parameter_samples" title="ceed.function.FuncBase.noisy_parameter_samples"><code class="xref py py-attr docutils literal notranslate"><span class="pre">noisy_parameter_samples</span></code></a>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">is_forked</span></code>, then if
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.lock_after_forked" title="ceed.function.param_noise.NoiseBase.lock_after_forked"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lock_after_forked</span></code></a>, then
it won’t be re-sampled. This allows sampling a <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>
function before forking it, and then, when copying and forking the
source functions into individual functions we don’t resample them.
Then all these individual functions share the same random parameters as
the original referenced function.</p>
<p><code class="docutils literal notranslate"><span class="pre">parent_tree</span></code> is not inclusive.</p>
<p><code class="docutils literal notranslate"><span class="pre">base_loops</span></code> indicates the expected number of times the function
is expected to loop due to the stage containing the function (if any).
This is in addition to <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a> of the function and its parent
tree. So e.g. if <a class="reference internal" href="#ceed.function.FuncBase.loop" title="ceed.function.FuncBase.loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code></a> is <code class="docutils literal notranslate"><span class="pre">3</span></code> and <code class="docutils literal notranslate"><span class="pre">base_loops</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code> with
no parents, then the function will be looped <code class="docutils literal notranslate"><span class="pre">6</span></code> times, twice by the
stage.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># get the classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span> <span class="o">=</span> <span class="n">FunctionFactoryBase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">register_all_functions</span><span class="p">(</span><span class="n">function_factory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LinearFunc</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;LinearFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UniformNoise</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">param_noise_factory</span><span class="o">.</span><span class="n">get_cls</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;UniformNoise&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create function and add noise to parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">set_parameter_noise</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">noise_obj</span><span class="o">=</span><span class="n">UniformNoise</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">set_parameter_noise</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;b&#39;</span> <span class="n">noise_obj</span><span class="o">=</span><span class="n">UniformNoise</span><span class="p">(</span><span class="n">lock_after_forked</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now add it to factory and create references to it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref1</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get_func_ref</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref2</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get_func_ref</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># resample the original function and fork refs into copies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">ref1</span><span class="o">.</span><span class="n">copy_expand_ref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">ref2</span><span class="o">.</span><span class="n">copy_expand_ref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now resample only those that are not locked</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">(</span><span class="n">is_forked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">(</span><span class="n">is_forked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># b is locked to pre-forked value and is not sampled after fork</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">b</span>
<span class="go">(0.22856343565686332, 0.3092686616300213)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">f1</span><span class="o">.</span><span class="n">b</span>
<span class="go">(0.05228392113705038, 0.3092686616300213)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">f2</span><span class="o">.</span><span class="n">b</span>
<span class="go">(0.9117196772532972, 0.3092686616300213)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.get_ref_src">
<span class="sig-name descname"><span class="pre">get_ref_src</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a></span></span><a class="headerlink" href="#ceed.function.FuncBase.get_ref_src" title="Permalink to this definition"></a></dt>
<dd><p>Returns the function referenced by this object if we are a
<a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>, otherwise it just returns this function.</p>
<p>Useful to get the referenced function without having to check whether we
are a <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>. I.e. <code class="docutils literal notranslate"><span class="pre">func.get_ref_src().name</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncBase.set_parameter_noise">
<span class="sig-name descname"><span class="pre">set_parameter_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase" title="ceed.function.param_noise.NoiseBase"><span class="pre">ceed.function.param_noise.NoiseBase</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase" title="ceed.function.param_noise.NoiseBase"><span class="pre">ceed.function.param_noise.NoiseBase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncBase.set_parameter_noise" title="Permalink to this definition"></a></dt>
<dd><p>Sets the noise of the parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter</strong> – The name of the function parameter to randomize/reset.</p></li>
<li><p><strong>noise_obj</strong> – A <a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase" title="ceed.function.param_noise.NoiseBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoiseBase</span></code></a> to use
for the parameter. If None, we create one from <code class="docutils literal notranslate"><span class="pre">cls</span></code>.</p></li>
<li><p><strong>cls</strong> – If <code class="docutils literal notranslate"><span class="pre">noise_obj</span></code> is None and this is a string, we create
a noise class from the noise factory of class <code class="docutils literal notranslate"><span class="pre">cls</span></code>. If this is
also None, if the parameter has a noise object it is removed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The noise object created/passed in, or None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ceed.function.FuncType">
<span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">FuncType</span></span><a class="headerlink" href="#ceed.function.FuncType" title="Permalink to this definition"></a></dt>
<dd><p>The type-hint type for <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>.</p>
<p>alias of TypeVar(‘FuncType’, bound=<a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ceed.function.CeedFuncOrRefInstance">
<span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">CeedFuncOrRefInstance</span></span><a class="headerlink" href="#ceed.function.CeedFuncOrRefInstance" title="Permalink to this definition"></a></dt>
<dd><p>Instance of either <a class="reference internal" href="#ceed.function.CeedFunc" title="ceed.function.CeedFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFunc</span></code></a> or <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>.</p>
<p>alias of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>, <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>]</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ceed.function.CeedFunc">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">CeedFunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_factory</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.CeedFunc" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.FuncBase</span></code></a></p>
<p>A base class for typical Ceed functions.</p>
<p>See <a class="reference internal" href="function_plugin.html#module-ceed.function.plugin" title="ceed.function.plugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function.plugin</span></code></a> for example functions that are based on
this class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.CeedFunc.t_offset">
<span class="sig-name descname"><span class="pre">t_offset</span></span><a class="headerlink" href="#ceed.function.CeedFunc.t_offset" title="Permalink to this definition"></a></dt>
<dd><p>The amount of time in seconds to add the function time when computing
the result. It allows some additional control over the function.</p>
<p>All functions that inherit from this class must add this time. E.g. the
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.LinearFunc" title="ceed.function.plugin.LinearFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearFunc</span></code></a> defines its function as
<code class="docutils literal notranslate"><span class="pre">y(t)</span> <span class="pre">=</span> <span class="pre">mt</span> <span class="pre">+</span> <span class="pre">b</span></code> with time <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">(t_in</span> <span class="pre">-</span> <span class="pre">t_start</span> <span class="pre">+</span> <span class="pre">t_offset)</span></code>.</p>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">duration</span></code> of the function is not affected by this property as
it is independent of this. I.e. we check whether a time value is in the
function’s <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_domain()</span></code> ignoring <a class="reference internal" href="#ceed.function.CeedFunc.t_offset" title="ceed.function.CeedFunc.t_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_offset</span></code></a> but we then
add it to the given time before computing the function’s output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.CeedFunc.get_relative_time">
<span class="sig-name descname"><span class="pre">get_relative_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.CeedFunc.get_relative_time" title="Permalink to this definition"></a></dt>
<dd><p>Converts the global time to the local function time.</p>
<p>At each time-step, the function is called with the global time. This
function converts the time into local time, relative to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code>. Also adds any function specific offset (e.g.
<a class="reference internal" href="#ceed.function.CeedFunc.t_offset" title="ceed.function.CeedFunc.t_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CeedFunc.t_offset</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.CeedFunc.is_loop_done">
<span class="sig-name descname"><span class="pre">is_loop_done</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ceed.function.CeedFunc.is_loop_done" title="Permalink to this definition"></a></dt>
<dd><p>Whether the time <code class="docutils literal notranslate"><span class="pre">t</span></code>, in global time, is after the end of the
current loop iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> – Time in seconds, in global time.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether it’s past the end of the current loop iteration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.CeedFunc.get_gui_props">
<span class="sig-name descname"><span class="pre">get_gui_props</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.CeedFunc.get_gui_props" title="Permalink to this definition"></a></dt>
<dd><p>Called internally by the GUI to get the properties of the function
that should be displayed to the user to be customized.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>A dict that contains all properties that should be displayed. The
values of the property is as follows:</p>
<ul>
<li><p>If it’s the string int, float, str or it’s the python type
int, float, or str then the GUI will show a editable property
for this type.</p></li>
<li><p>If it’s None, we look at the value of the property
in the instance and display accordingly (e.g. if it’s a str type
property, a string property is displayed to the user).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default value determines the type. So if the default value
is <code class="docutils literal notranslate"><span class="pre">0</span></code>, the type will be int and a user won’t be able to
enter a float. Use e.g. <code class="docutils literal notranslate"><span class="pre">0.0</span></code> in the latter case.</p>
</div>
</li>
</ul>
</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span><span class="o">.</span><span class="n">get_gui_props</span><span class="p">()</span>
<span class="go">{&#39;A&#39;: None,</span>
<span class="go"> &#39;duration&#39;: None,</span>
<span class="go"> &#39;f&#39;: None,</span>
<span class="go"> &#39;loop&#39;: None,</span>
<span class="go"> &#39;name&#39;: None,</span>
<span class="go"> &#39;t_offset&#39;: None,</span>
<span class="go"> &#39;th0&#39;: None}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.CeedFunc.get_state">
<span class="sig-name descname"><span class="pre">get_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recurse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.CeedFunc.get_state" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict representation of the function so that it can be
reconstructed later with <code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_state()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>recurse</cite>: bool</dt><dd><p>When the function has children functions, e.g. a
<a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a>, if True all the children functions’
states will also be returned, otherwise, only this function’s
state is returned. See the example.</p>
</dd>
<dt><cite>expand_ref</cite>: bool</dt><dd><p>If True, if any sub-functions (or this function itself) are
<a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instances, they will be expanded to
contain the state of the actual underlying function. Otherwise,
it is returned as being a function reference.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict with all the configuration data.</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>
<span class="go">{&#39;A&#39;: 1.0,</span>
<span class="go"> &#39;cls&#39;: &#39;CosFunc&#39;,</span>
<span class="go"> &#39;duration&#39;: 0,</span>
<span class="go"> &#39;f&#39;: 1.0,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Cos&#39;,</span>
<span class="go"> &#39;t_offset&#39;: 0,</span>
<span class="go"> &#39;th0&#39;: 0.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Group</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Group</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;ceed.function.FuncGroup at 0x4f85800&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">cos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">get_state</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;cls&#39;: &#39;FuncGroup&#39;,</span>
<span class="go"> &#39;funcs&#39;: [{&#39;A&#39;: 1.0,</span>
<span class="go">   &#39;cls&#39;: &#39;CosFunc&#39;,</span>
<span class="go">   &#39;duration&#39;: 0,</span>
<span class="go">   &#39;f&#39;: 1.0,</span>
<span class="go">   &#39;loop&#39;: 1,</span>
<span class="go">   &#39;name&#39;: &#39;Cos&#39;,</span>
<span class="go">   &#39;t_offset&#39;: 0,</span>
<span class="go">   &#39;th0&#39;: 0.0}],</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Group&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">get_state</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{&#39;cls&#39;: &#39;FuncGroup&#39;,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Group&#39;}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ceed.function.FuncGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">FuncGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Group'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncGroup" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ceed.function.FuncBase</span></code></a></p>
<p>Function that represents a sequence of sub-functions.</p>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for more details.</p>
<p>When the function instance is called it goes through all its sub-functions
sequentially until they are done. E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Group</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ConstFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Group</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">Const</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">Const</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">Const</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">init_func</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go"> Traceback (most recent call last):</span>
<span class="go">     g(10)</span>
<span class="go">   File &quot;g:\python\libs\ceed\ceed\function\__init__.py&quot;, line 934, in __call__</span>
<span class="go">     raise FuncDoneException</span>
<span class="go"> FuncDoneException</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.funcs">
<span class="sig-name descname"><span class="pre">funcs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#ceed.function.FuncGroup.funcs" title="Permalink to this definition"></a></dt>
<dd><p>The list of children functions of this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.init_func_tree">
<span class="sig-name descname"><span class="pre">init_func_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.init_func_tree" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the function as part of the function tree so it is ready
to be called to get the function values as part of the tree. It is
called once for each function of the entire function tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root</strong> – The root of the function tree. If None, it’s self.</p>
</dd>
</dl>
<p>For example, for the following function structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GroupFunc</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">loop</span><span class="p">:</span> <span class="mi">5</span>
    <span class="n">GroupFunc</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;child_a&#39;</span>
        <span class="n">loop</span><span class="p">:</span> <span class="mi">3</span>
        <span class="n">ConstFunc</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;child&#39;</span>
            <span class="n">loop</span><span class="p">:</span> <span class="mi">4</span>
</pre></div>
</div>
<p>when the experiment is ready, after <a class="reference internal" href="#ceed.function.FuncGroup.resample_parameters" title="ceed.function.FuncGroup.resample_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resample_parameters()</span></code></a> and the
stage is ready to run, ceed will call <a class="reference internal" href="#ceed.function.FuncGroup.init_func_tree" title="ceed.function.FuncGroup.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> once for
<code class="docutils literal notranslate"><span class="pre">root</span></code>, <code class="docutils literal notranslate"><span class="pre">child_a</span></code>, and <code class="docutils literal notranslate"><span class="pre">child</span></code> in that order. The <code class="docutils literal notranslate"><span class="pre">root</span></code>
parameter passed will be the <code class="docutils literal notranslate"><span class="pre">root</span></code> function.</p>
<p>Then, it will call <a class="reference internal" href="#ceed.function.FuncGroup.init_func" title="ceed.function.FuncGroup.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a> for <code class="docutils literal notranslate"><span class="pre">root</span></code>, <code class="docutils literal notranslate"><span class="pre">child_a</span></code>, and
<code class="docutils literal notranslate"><span class="pre">child</span></code> 1, 5, and 15 times, respectively. Once for each time the
function is started.</p>
<p>Finally, it will call <a class="reference internal" href="#ceed.function.FuncGroup.init_loop_iteration" title="ceed.function.FuncGroup.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a> for <code class="docutils literal notranslate"><span class="pre">root</span></code>,
<code class="docutils literal notranslate"><span class="pre">child_a</span></code>, and <code class="docutils literal notranslate"><span class="pre">child</span></code> 4, 10, and 45 times, respectively. Once for
each loop iteration of the function, except the first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.init_func">
<span class="sig-name descname"><span class="pre">init_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.init_func" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the function so it is ready to be called to get
the function values. See also <a class="reference internal" href="#ceed.function.FuncGroup.init_func_tree" title="ceed.function.FuncGroup.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncGroup.init_loop_iteration" title="ceed.function.FuncGroup.init_loop_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_loop_iteration()</span></code></a>. If overriding, <code class="docutils literal notranslate"><span class="pre">super</span></code> must be called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t_start</strong> – The time in seconds in global time. <code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code>
will be set to this value. All subsequent calls to the
function with a time value will be relative to this given time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.init_loop_iteration">
<span class="sig-name descname"><span class="pre">init_loop_iteration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">fractions.Fraction</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.init_loop_iteration" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the function at the beginning of each loop.</p>
<p>It’s called internally at the start of every <code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code> iteration,
<strong>except the first</strong>. See also <a class="reference internal" href="#ceed.function.FuncGroup.init_func_tree" title="ceed.function.FuncGroup.init_func_tree"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func_tree()</span></code></a> and
<a class="reference internal" href="#ceed.function.FuncGroup.init_func" title="ceed.function.FuncGroup.init_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_func()</span></code></a>. If overriding, <code class="docutils literal notranslate"><span class="pre">super</span></code> must be called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t_start</strong> – The time in seconds in global time. <code class="xref py py-attr docutils literal notranslate"><span class="pre">t_start</span></code>
will be set to this value. All subsequent calls to the
function with a time value will be relative to this given time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.replace_ref_func_with_source">
<span class="sig-name descname"><span class="pre">replace_ref_func_with_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.replace_ref_func_with_source" title="Permalink to this definition"></a></dt>
<dd><p>Given the <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>, it’ll locate it in <code class="xref py py-attr docutils literal notranslate"><span class="pre">func</span></code> and
replace it with the underlying function.</p>
<p>The caller is responsible for returning the reference with
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.return_func_ref" title="ceed.function.FunctionFactoryBase.return_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.return_func_ref()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func_ref</strong> – The <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> to replace in <code class="xref py py-attr docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of <code class="docutils literal notranslate"><span class="pre">(func,</span> <span class="pre">i)</span></code> where <code class="docutils literal notranslate"><span class="pre">func</span></code> is the
<a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> that replaced the reference function. And <code class="docutils literal notranslate"><span class="pre">i</span></code>
is the index in <a class="reference internal" href="#ceed.function.FuncGroup.funcs" title="ceed.function.FuncGroup.funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs</span></code></a> where it was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.add_func">
<span class="sig-name descname"><span class="pre">add_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncGroup.add_func" title="Permalink to this definition"></a></dt>
<dd><p>Adds <code class="docutils literal notranslate"><span class="pre">func</span></code> to this function as a sub-function in <a class="reference internal" href="#ceed.function.FuncGroup.funcs" title="ceed.function.FuncGroup.funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs</span></code></a>.</p>
<p>If calling this manually, remember to check
<a class="reference internal" href="#ceed.function.FuncBase.can_other_func_be_added" title="ceed.function.FuncBase.can_other_func_be_added"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FuncBase.can_other_func_be_added()</span></code></a> before adding if there’s
potential for it to return False.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>func</cite>: <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a></dt><dd><p>The function instance to add.</p>
</dd>
<dt><cite>after</cite>: <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a>, defaults to None.</dt><dd><p>The function in <a class="reference internal" href="#ceed.function.FuncGroup.funcs" title="ceed.function.FuncGroup.funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs</span></code></a> after which to add this function
if specified.</p>
</dd>
<dt><cite>index</cite>: int, defaults to None.</dt><dd><p>The index where to insert the function if specified.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.remove_func">
<span class="sig-name descname"><span class="pre">remove_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncGroup.remove_func" title="Permalink to this definition"></a></dt>
<dd><p>Removes sub-function <code class="docutils literal notranslate"><span class="pre">func</span></code> from <a class="reference internal" href="#ceed.function.FuncGroup.funcs" title="ceed.function.FuncGroup.funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs</span></code></a>. It must exist in
<a class="reference internal" href="#ceed.function.FuncGroup.funcs" title="ceed.function.FuncGroup.funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">funcs</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>func</cite>: <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a></dt><dd><p>The function instance to remove.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.get_state">
<span class="sig-name descname"><span class="pre">get_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recurse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncGroup.get_state" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict representation of the function so that it can be
reconstructed later with <a class="reference internal" href="#ceed.function.FuncGroup.apply_state" title="ceed.function.FuncGroup.apply_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_state()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>recurse</cite>: bool</dt><dd><p>When the function has children functions, e.g. a
<a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a>, if True all the children functions’
states will also be returned, otherwise, only this function’s
state is returned. See the example.</p>
</dd>
<dt><cite>expand_ref</cite>: bool</dt><dd><p>If True, if any sub-functions (or this function itself) are
<a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instances, they will be expanded to
contain the state of the actual underlying function. Otherwise,
it is returned as being a function reference.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict with all the configuration data.</p>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span><span class="o">.</span><span class="n">get_state</span><span class="p">()</span>
<span class="go">{&#39;A&#39;: 1.0,</span>
<span class="go"> &#39;cls&#39;: &#39;CosFunc&#39;,</span>
<span class="go"> &#39;duration&#39;: 0,</span>
<span class="go"> &#39;f&#39;: 1.0,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Cos&#39;,</span>
<span class="go"> &#39;t_offset&#39;: 0,</span>
<span class="go"> &#39;th0&#39;: 0.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Group</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Group</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;ceed.function.FuncGroup at 0x4f85800&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">cos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">get_state</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;cls&#39;: &#39;FuncGroup&#39;,</span>
<span class="go"> &#39;funcs&#39;: [{&#39;A&#39;: 1.0,</span>
<span class="go">   &#39;cls&#39;: &#39;CosFunc&#39;,</span>
<span class="go">   &#39;duration&#39;: 0,</span>
<span class="go">   &#39;f&#39;: 1.0,</span>
<span class="go">   &#39;loop&#39;: 1,</span>
<span class="go">   &#39;name&#39;: &#39;Cos&#39;,</span>
<span class="go">   &#39;t_offset&#39;: 0,</span>
<span class="go">   &#39;th0&#39;: 0.0}],</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Group&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">get_state</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{&#39;cls&#39;: &#39;FuncGroup&#39;,</span>
<span class="go"> &#39;loop&#39;: 1,</span>
<span class="go"> &#39;name&#39;: &#39;Group&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.apply_state">
<span class="sig-name descname"><span class="pre">apply_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.FuncGroup.apply_state" title="Permalink to this definition"></a></dt>
<dd><p>Takes the state of the function saved with <a class="reference internal" href="#ceed.function.FuncGroup.get_state" title="ceed.function.FuncGroup.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a> and
applies it to this function. it also creates any children function e.g.
in the case it is a <a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a> etc.</p>
<p>It is called internally and should not be used directly. Use
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.make_func" title="ceed.function.FunctionFactoryBase.make_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.make_func()</span></code></a> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>state</cite>: dict</dt><dd><p>The dict to use to reconstruct the function as returned by
<a class="reference internal" href="#ceed.function.FuncGroup.get_state" title="ceed.function.FuncGroup.get_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_state()</span></code></a>.</p>
</dd>
<dt><cite>clone</cite>: bool</dt><dd><p>If True will apply all the state exactly as in the original
function, otherwise it doesn’t apply internal parameters
listed in <code class="xref py py-attr docutils literal notranslate"><span class="pre">_clone_props</span></code> that are not user customizable.</p>
</dd>
</dl>
</dd>
</dl>
<p>See <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for an example.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.get_funcs">
<span class="sig-name descname"><span class="pre">get_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_into_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><span class="pre">ceed.function.CeedFuncRef</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.get_funcs" title="Permalink to this definition"></a></dt>
<dd><p>Generator that yields the function and all its children functions
if it has any, e.g. for <a class="reference internal" href="#ceed.function.FuncGroup" title="ceed.function.FuncGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncGroup</span></code></a>. It’s in DFS order.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>step_into_ref</cite>: bool</dt><dd><p>If True, when it encounters a <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> instance
it’ll step into it and return that function and its children.
Otherwise, it’ll just return the <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a> and not
step into it.</p>
</dd>
</dl>
</dd>
</dl>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cos</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CosFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cos</span> <span class="o">=</span> <span class="n">Cos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Group</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;FuncGroup&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Group</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">cos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">cos</span><span class="o">.</span><span class="n">get_funcs</span><span class="p">()]</span>
<span class="go">[&lt;ceed.function.plugin.CosFunc at 0x4d71c78&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">get_funcs</span><span class="p">()]</span>
<span class="go">[&lt;ceed.function.FuncGroup at 0x4f85800&gt;,</span>
<span class="go"> &lt;ceed.function.plugin.CosFunc at 0x4d71c78&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.resample_parameters">
<span class="sig-name descname"><span class="pre">resample_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_forked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_loops</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.resample_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Resamples all the function parameters that have randomness
attached to it in <code class="xref py py-attr docutils literal notranslate"><span class="pre">noisy_parameters</span></code> and updates their values.</p>
<p>For all parameters that are randomized and
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.sample_each_loop" title="ceed.function.param_noise.NoiseBase.sample_each_loop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_each_loop</span></code></a> is True,
the samples for all the iterations are also pre-sampled and stored in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">noisy_parameter_samples</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">is_forked</span></code>, then if
<a class="reference internal" href="param_noise.html#ceed.function.param_noise.NoiseBase.lock_after_forked" title="ceed.function.param_noise.NoiseBase.lock_after_forked"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lock_after_forked</span></code></a>, then
it won’t be re-sampled. This allows sampling a <a class="reference internal" href="#ceed.function.CeedFuncRef" title="ceed.function.CeedFuncRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">CeedFuncRef</span></code></a>
function before forking it, and then, when copying and forking the
source functions into individual functions we don’t resample them.
Then all these individual functions share the same random parameters as
the original referenced function.</p>
<p><code class="docutils literal notranslate"><span class="pre">parent_tree</span></code> is not inclusive.</p>
<p><code class="docutils literal notranslate"><span class="pre">base_loops</span></code> indicates the expected number of times the function
is expected to loop due to the stage containing the function (if any).
This is in addition to <code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code> of the function and its parent
tree. So e.g. if <code class="xref py py-attr docutils literal notranslate"><span class="pre">loop</span></code> is <code class="docutils literal notranslate"><span class="pre">3</span></code> and <code class="docutils literal notranslate"><span class="pre">base_loops</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code> with
no parents, then the function will be looped <code class="docutils literal notranslate"><span class="pre">6</span></code> times, twice by the
stage.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># get the classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span> <span class="o">=</span> <span class="n">FunctionFactoryBase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">register_all_functions</span><span class="p">(</span><span class="n">function_factory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LinearFunc</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;LinearFunc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UniformNoise</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">param_noise_factory</span><span class="o">.</span><span class="n">get_cls</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;UniformNoise&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create function and add noise to parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">LinearFunc</span><span class="p">(</span><span class="n">function_factory</span><span class="o">=</span><span class="n">function_factory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">set_parameter_noise</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">noise_obj</span><span class="o">=</span><span class="n">UniformNoise</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">set_parameter_noise</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;b&#39;</span> <span class="n">noise_obj</span><span class="o">=</span><span class="n">UniformNoise</span><span class="p">(</span><span class="n">lock_after_forked</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now add it to factory and create references to it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_factory</span><span class="o">.</span><span class="n">add_func</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref1</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get_func_ref</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref2</span> <span class="o">=</span> <span class="n">function_factory</span><span class="o">.</span><span class="n">get_func_ref</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># resample the original function and fork refs into copies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">ref1</span><span class="o">.</span><span class="n">copy_expand_ref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">ref2</span><span class="o">.</span><span class="n">copy_expand_ref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now resample only those that are not locked</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">(</span><span class="n">is_forked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">.</span><span class="n">resample_parameters</span><span class="p">(</span><span class="n">is_forked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># b is locked to pre-forked value and is not sampled after fork</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">b</span>
<span class="go">(0.22856343565686332, 0.3092686616300213)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">f1</span><span class="o">.</span><span class="n">b</span>
<span class="go">(0.05228392113705038, 0.3092686616300213)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">f2</span><span class="o">.</span><span class="n">b</span>
<span class="go">(0.9117196772532972, 0.3092686616300213)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.FuncGroup.set_ceed_id">
<span class="sig-name descname"><span class="pre">set_ceed_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_available</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#ceed.function.FuncGroup.set_ceed_id" title="Permalink to this definition"></a></dt>
<dd><p>Sets the ID of this and any sub objects, each to a number equal or
greater than <code class="docutils literal notranslate"><span class="pre">min_available</span></code> and returns the next minimum number
available to be used.</p>
<p>See <a class="reference internal" href="../analysis/analysis.html#ceed.analysis.CeedDataReader.event_data" title="ceed.analysis.CeedDataReader.event_data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">event_data</span></code></a> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>min_available</strong> – The minimum number available to be used for the
ID so it is unique.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The next minimum available number that can be used. Any number
larger or equal to it is free to be used.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ceed.function.CeedFuncRef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">CeedFuncRef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.CeedFuncRef" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A function that refers to another function.</p>
<p>This is never manually created, but rather returned by
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.get_func_ref()</span></code></a>.
See <a class="reference internal" href="#ceed.function.FunctionFactoryBase.get_func_ref" title="ceed.function.FunctionFactoryBase.get_func_ref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionFactoryBase.get_func_ref()</span></code></a> and <a class="reference internal" href="#module-ceed.function" title="ceed.function"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ceed.function</span></code></a> for
details.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.CeedFuncRef.display">
<span class="sig-name descname"><span class="pre">display</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.CeedFuncRef.display" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#ceed.function.FuncBase.display" title="ceed.function.FuncBase.display"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.display</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.CeedFuncRef.parent_func">
<span class="sig-name descname"><span class="pre">parent_func</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.CeedFuncRef.parent_func" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#ceed.function.FuncBase.parent_func" title="ceed.function.FuncBase.parent_func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.parent_func</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.CeedFuncRef.func">
<span class="sig-name descname"><span class="pre">func</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.CeedFuncRef.func" title="Permalink to this definition"></a></dt>
<dd><p>The original <a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncBase</span></code></a> this reference function is referring to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ceed.function.CeedFuncRef.function_factory">
<span class="sig-name descname"><span class="pre">function_factory</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ceed.function.CeedFuncRef.function_factory" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#ceed.function.FuncBase.function_factory" title="ceed.function.FuncBase.function_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FuncBase.function_factory</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ceed.function.CeedFuncRef.get_ref_src">
<span class="sig-name descname"><span class="pre">get_ref_src</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ceed.function.FuncBase" title="ceed.function.FuncBase"><span class="pre">ceed.function.FuncBase</span></a></span></span><a class="headerlink" href="#ceed.function.CeedFuncRef.get_ref_src" title="Permalink to this definition"></a></dt>
<dd><p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">CeedStage.get_ref_src()</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ceed.function.register_all_functions">
<span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">register_all_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><span class="pre">ceed.function.FunctionFactoryBase</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.register_all_functions" title="Permalink to this definition"></a></dt>
<dd><p>Registers all the internal plugins and built-in functions and function
distributions with the <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> and
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.param_noise_factory" title="ceed.function.FunctionFactoryBase.param_noise_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase.param_noise_factory</span></code></a> instance, respectively.</p>
<p>It gets and registers all the plugins functions and function distributions
under <code class="docutils literal notranslate"><span class="pre">ceed/function/plugin</span></code> using
<a class="reference internal" href="function_plugin.html#ceed.function.plugin.get_plugin_functions" title="ceed.function.plugin.get_plugin_functions"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_plugin_functions()</span></code></a>. See that function
for how to make your plugin functions and distributions discoverable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function_factory</strong> – a <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ceed.function.register_external_functions">
<span class="sig-prename descclassname"><span class="pre">ceed.function.</span></span><span class="sig-name descname"><span class="pre">register_external_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><span class="pre">ceed.function.FunctionFactoryBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">package</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ceed.function.register_external_functions" title="Permalink to this definition"></a></dt>
<dd><p>Registers all the plugin functions and function distributions in the
package with the <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> and
<a class="reference internal" href="#ceed.function.FunctionFactoryBase.param_noise_factory" title="ceed.function.FunctionFactoryBase.param_noise_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FunctionFactoryBase.param_noise_factory</span></code></a> instance, respectively.</p>
<p>See <a class="reference internal" href="function_plugin.html#ceed.function.plugin.get_plugin_functions" title="ceed.function.plugin.get_plugin_functions"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_plugin_functions()</span></code></a>
for how to make your plugin functions and distributions discoverable.</p>
<p>Plugin source code files are copied to the data file when a data file is
created. However, it doesn’t copy all files (i.e. it ignores non-python
files) so it should be independently tracked for each experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_factory</strong> – A <a class="reference internal" href="#ceed.function.FunctionFactoryBase" title="ceed.function.FunctionFactoryBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionFactoryBase</span></code></a> instance.</p></li>
<li><p><strong>package</strong> – The name of the package containing the plugins.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.html" class="btn btn-neutral float-left" title="Function API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="param_noise.html" class="btn btn-neutral float-right" title="Parameter randomization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Matthew Einhorn.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>